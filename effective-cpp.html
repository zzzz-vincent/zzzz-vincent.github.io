<!DOCTYPE html><html lang="en-US"><head><meta name="viewport" content="width=device-width"/><title>Reading: Effective C++</title><meta name="robots" content="follow, index"/><meta charSet="UTF-8"/><meta name="keywords" content="Blog, Website, Notion"/><meta name="description" content="Some notes for the learning of Effective C++"/><meta property="og:type" content="Post"/><meta property="og:title" content="Reading: Effective C++"/><meta property="og:description" content="Some notes for the learning of Effective C++"/><meta property="og:url" content="https://zzzz-vincent.vercel.app/effective-cpp"/><meta property="og:locale" content="en-US"/><meta property="og:image" content="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block&amp;id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2&amp;cache=v2"/><meta name="twitter:title" content="Reading: Effective C++"/><meta name="twitter:description" content="Some notes for the learning of Effective C++"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block&amp;id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2&amp;cache=v2"/><meta property="article:published_time" content="2022-12-01T00:00:00.000Z"/><meta property="article:author" content="zishen wen"/><meta name="next-head-count" content="18"/><link rel="preload" as="font" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard-dynamic-subset.css"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="192x192" href="/apple-touch-icon.png"/><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/feed"/><meta name="theme-color" content="#f1f3f5"/><link rel="preload" href="/_next/static/css/982167d46c9ed228.css" as="style"/><link rel="stylesheet" href="/_next/static/css/982167d46c9ed228.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-d6131c6fa336f8bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8d7da0c634fdd74b.js" defer=""></script><script src="/_next/static/chunks/0f4ba5df-9e9406a0dcd1e2b0.js" defer=""></script><script src="/_next/static/chunks/b5f2ed29-08db60af0c3043ba.js" defer=""></script><script src="/_next/static/chunks/167-23d354cda8f8d7da.js" defer=""></script><script src="/_next/static/chunks/605-f1193c6e2a8284ad.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-e1de9cc6741e3d00.js" defer=""></script><script src="/_next/static/m7jY47fJHXpPAk81FE8NR/_buildManifest.js" defer=""></script><script src="/_next/static/m7jY47fJHXpPAk81FE8NR/_ssgManifest.js" defer=""></script><script src="/_next/static/m7jY47fJHXpPAk81FE8NR/_middlewareManifest.js" defer=""></script></head><body class="bg-day dark:bg-night"><div id="__next" data-reactroot=""><div><div class="wrapper"><div class="sticky-nav m-auto w-full h-6 flex flex-row justify-between items-center mb-2 md:mb-6 py-8 bg-opacity-60 max-w-6xl px-4 false" id="sticky-nav"><a aria-label="zwen&#x27;s random stuff" href="/"><div class="flex items-center"><div class="ml-2 text-black dark:text-white header-name">zwen&#x27;s random stuff</div></div></a><div class="flex gap-3 items-center"><div class="flex-shrink-0"><ul class="flex flex-row"><li class="block ml-4 text-black dark:text-gray-50 nav"><a href="/about">About</a></li></ul></div></div></div><main class="m-auto flex-grow w-full transition-all max-w-6xl px-4 false false "><div><div class="m-auto max-w-4xl bg-white dark:bg-zinc-700 rounded-3xl py-12 px-6 shadow-md"><article class="m-auto max-w-2xl"><h1 class="font-bold text-3xl text-black dark:text-white">Reading: Effective C++</h1><nav class="mt-6 text-gray-500 dark:text-gray-400"><div class="flex items-center gap-3 mb-3"><div class="flex items-center gap-2"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2724%27%20height=%2724%27/%3e"/></span><img alt="profile_photo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="profile_photo" srcSet="https://s3-us-west-2.amazonaws.com/public.notion-static.com/6c509773-f27d-4c13-875f-0c60b39074bf/headshot_small.jpg?imwidth=32 1x, https://s3-us-west-2.amazonaws.com/public.notion-static.com/6c509773-f27d-4c13-875f-0c60b39074bf/headshot_small.jpg?imwidth=48 2x" src="https://s3-us-west-2.amazonaws.com/public.notion-static.com/6c509773-f27d-4c13-875f-0c60b39074bf/headshot_small.jpg?imwidth=48" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full" loading="lazy"/></noscript></span><div class="">zzzz-vincent</div></div><div class="self-stretch w-px my-1 bg-gray-300"></div><div class=" mr-2 md:ml-0">Nov 30, 2022</div></div><div class="flex items-center mb-4"><div class="flex flex-nowrap max-w-full overflow-x-auto article-tags gap-2"><div class="text-xs text-gray-500 font-normal rounded-full bg-gray-200 px-2 py-1 cursor-pointer">C++</div><div class="text-xs text-gray-500 font-normal rounded-full bg-gray-200 px-2 py-1 cursor-pointer">Code</div></div></div><div class="relative w-full pb-[66%] lg:pb-[50%] bg-gray-200 dark:bg-zinc-700 mb-7 rounded-3xl overflow-hidden"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="Reading: Effective C++" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" class="object-cover" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Reading: Effective C++" sizes="100vw" srcSet="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block&amp;id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2&amp;cache=v2?imwidth=640 640w, https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block&amp;id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2&amp;cache=v2?imwidth=750 750w, https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block&amp;id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2&amp;cache=v2?imwidth=828 828w, https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block&amp;id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2&amp;cache=v2?imwidth=1080 1080w, https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block&amp;id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2&amp;cache=v2?imwidth=1200 1200w, https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block&amp;id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2&amp;cache=v2?imwidth=1920 1920w, https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block&amp;id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2&amp;cache=v2?imwidth=2048 2048w, https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block&amp;id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2&amp;cache=v2?imwidth=3840 3840w" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block&amp;id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2&amp;cache=v2?imwidth=3840" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover" loading="lazy"/></noscript></span></div></nav><div class="-mt-4"><main class="notion light-mode notion-page notion-block-2cd2bd7c73ef439487dd0fc9f085dba2"><div class="notion-viewport"></div><div class="notion-collection-row"><div class="notion-collection-row-body"><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M10.889 5.5H3.11v1.556h7.778V5.5zm1.555-4.444h-.777V0H10.11v1.056H3.89V0H2.333v1.056h-.777c-.864 0-1.548.7-1.548 1.555L0 12.5c0 .856.692 1.5 1.556 1.5h10.888C13.3 14 14 13.356 14 12.5V2.611c0-.855-.7-1.555-1.556-1.555zm0 11.444H1.556V3.944h10.888V12.5zM8.556 8.611H3.11v1.556h5.445V8.61z"></path></svg><div class="notion-collection-column-title-body">date</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-date">Nov 1, 2022</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">slug</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text">effective-cpp</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M9.625 10.847C8.912 10.289 8.121 9.926 7 9.26v-.54a3.33 3.33 0 00.538-.888c.408-.1.774-.498.774-.832 0-.482-.202-.673-.44-.829 0-.015.003-.03.003-.046 0-.711-.438-2.625-2.625-2.625-2.188 0-2.625 1.915-2.625 2.625 0 .017.003.03.003.046-.238.156-.44.347-.44.829 0 .334.366.731.774.833.146.343.326.643.538.886v.541c-1.12.665-1.912 1.028-2.625 1.587C.041 11.498 0 12.469 0 14h10.5c0-1.531-.041-2.502-.875-3.153zm3.5-3.5c-.713-.558-1.504-.921-2.625-1.587v-.54c.212-.244.392-.544.538-.888.408-.1.774-.498.774-.832 0-.482-.202-.673-.44-.829 0-.015.003-.03.003-.046C11.375 1.914 10.937 0 8.75 0 6.562 0 6.125 1.915 6.125 2.625c0 .017.003.03.003.046-.016.012-.03.025-.047.036 1.751.359 2.516 1.841 2.647 3.04.248.262.46.65.46 1.253 0 .603-.417 1.203-1.004 1.515-.057.109-.117.214-.181.315l.437.245c.64.357 1.194.666 1.724 1.081.138.108.256.224.365.343H14c0-1.53-.041-2.5-.875-3.153z"></path></svg><div class="notion-collection-column-title-body">author</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-person"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">status</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"><div class="notion-property-select-item notion-item-red">Public</div></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M4 3a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zM2 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2z"></path></svg><div class="notion-collection-column-title-body">tags</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-multi_select"><div class="notion-property-multi_select-item notion-item-blue">C++</div><div class="notion-property-multi_select-item notion-item-green">Code</div></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">summary</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text">Some notes for the learning of <em>Effective C++</em></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">type</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"><div class="notion-property-select-item notion-item-purple">Post</div></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M5.946 14a4.975 4.975 0 01-3.497-1.415A4.731 4.731 0 011 9.174c0-1.288.515-2.5 1.449-3.41L7.456.986c1.345-1.313 3.722-1.318 5.08.007a3.453 3.453 0 010 4.961L8.03 10.241c-.867.847-2.293.848-3.17-.006a2.158 2.158 0 010-3.102l1.744-1.701 1.272 1.24-1.744 1.701a.43.43 0 000 .621c.23.223.405.223.636 0l4.503-4.288a1.723 1.723 0 00-.007-2.473c-.68-.663-1.864-.663-2.543 0L3.713 7.011a3.006 3.006 0 00-.915 2.163c0 .82.328 1.591.922 2.17 1.19 1.162 3.262 1.162 4.451 0l2.248-2.192 1.272 1.24-2.248 2.193A4.978 4.978 0 015.946 14z"></path></svg><div class="notion-collection-column-title-body">thumbnail</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-file"><a target="_blank" rel="noreferrer noopener" class="notion-property-file" href="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block&amp;id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2&amp;cache=v2"><img alt="1_b1uKvezKwfzHQzQl5bKV9Q.jpeg" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block&amp;id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2&amp;cache=v2" loading="lazy"/></a></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M6.986 14c-1.79 0-3.582-.69-4.944-2.068-2.723-2.72-2.723-7.172 0-9.892 2.725-2.72 7.182-2.72 9.906 0A6.972 6.972 0 0114 6.996c0 1.88-.728 3.633-2.052 4.955A7.058 7.058 0 016.986 14zm3.285-6.99v1.645H5.526v-5.47h1.841v3.63h2.904v.194zm1.89-.014c0-1.379-.542-2.67-1.522-3.648-2.006-2.005-5.287-2.007-7.297-.009l-.009.009a5.168 5.168 0 000 7.295c2.01 2.007 5.297 2.007 7.306 0a5.119 5.119 0 001.521-3.647z"></path></svg><div class="notion-collection-column-title-body">updatedAt</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-last_edited_time">Jan 29, 2023 01:59 AM</span></div></div></div></div><div class="notion-text notion-block-65ae4ab0c4fd4d12a7d056fe47bc084a"><em>C++ is the best language in the world!</em></div><details class="notion-toggle notion-block-ee219e4a7e424be29092f8b97fa60165"><summary><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-ee219e4a7e424be29092f8b97fa60165" data-id="ee219e4a7e424be29092f8b97fa60165"><span><div id="ee219e4a7e424be29092f8b97fa60165" class="notion-header-anchor"></div><span class="notion-h-title">Note1: Use <code class="notion-inline-code">const</code> Whenever Possible</span></span></h4></summary><div><div class="notion-callout notion-gray_background_co notion-block-c5802362542c47018f99c8ebee93742a"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">Declare const helps detect errors in compiling time.</div></div><div class="notion-callout notion-gray_background_co notion-block-a0b75efa86ca4f7599a5a4f2a6c75257"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">It is important to understand that though compiler ensure bitwise const-ness but we should program with logical const-ness.</div></div><div class="notion-callout notion-gray_background_co notion-block-6ecfe7db94e04cfe96ee33e92794882c"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">if const and non-const functions are identical, use non-const one to call const one.</div></div><details class="notion-toggle notion-block-6f78940c846b425bbf23ad48d1a499a6"><summary><h4 class="notion-h notion-h3 notion-block-6f78940c846b425bbf23ad48d1a499a6" data-id="6f78940c846b425bbf23ad48d1a499a6"><span><div id="6f78940c846b425bbf23ad48d1a499a6" class="notion-header-anchor"></div><span class="notion-h-title">Here is ALL about <code class="notion-inline-code">const</code></span></span></h4></summary><div><details class="notion-toggle notion-block-043c011ebef847b09abe196d9bbf8597"><summary><h4 class="notion-h notion-h3 notion-block-043c011ebef847b09abe196d9bbf8597" data-id="043c011ebef847b09abe196d9bbf8597"><span><div id="043c011ebef847b09abe196d9bbf8597" class="notion-header-anchor"></div><span class="notion-h-title">Const Variable</span></span></h4></summary><div><pre class="notion-code language-c++"><code class="language-c++"><span class="token keyword">const</span> int <span class="token keyword">var</span><span class="token punctuation">;</span> <span class="token comment">// error</span>

<span class="token keyword">const</span> int <span class="token keyword">var</span><span class="token punctuation">;</span> <span class="token comment">// error</span>
<span class="token keyword">var</span> <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> int <span class="token keyword">var</span><span class="token punctuation">.</span><span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">// ok</span></code></pre></div></details><details class="notion-toggle notion-block-7d51aa3bb0634d039de2e58fd5a5eb32"><summary><h4 class="notion-h notion-h3 notion-block-7d51aa3bb0634d039de2e58fd5a5eb32" data-id="7d51aa3bb0634d039de2e58fd5a5eb32"><span><div id="7d51aa3bb0634d039de2e58fd5a5eb32" class="notion-header-anchor"></div><span class="notion-h-title">Const Keyword With Pointer Variables</span></span></h4></summary><div><ul class="notion-list notion-list-disc notion-block-c681f1627068468d919ba21d1313b91a"><li>When the pointer variable point to a const value</li></ul><pre class="notion-code language-c++"><code class="language-c++">int x<span class="token punctuation">{</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> int<span class="token operator">*</span> i <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span>

<span class="token comment">// Value of x and y can be altered,</span>
<span class="token comment">// they are not constant variables</span>
x <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>

<span class="token comment">// CTE: Cannot change constant values because,</span>
<span class="token comment">// i and j are pointing to const-int</span>
<span class="token comment">// &amp; const-char type value</span>
<span class="token comment">// error: read-only variable is not assignable</span>
<span class="token operator">*</span>i <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span></code></pre><ul class="notion-list notion-list-disc notion-block-d5c5be419fe94e928e5d5be99462446c"><li>When the const pointer variable point to the value</li></ul><pre class="notion-code language-c++"><code class="language-c++"><span class="token comment">// x and y non-const var</span>
int x<span class="token punctuation">{</span> <span class="token number">9</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
int y<span class="token punctuation">{</span> <span class="token number">8</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

int<span class="token operator">*</span> <span class="token keyword">const</span> i <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span>

<span class="token comment">// The values that is stored at the memory location</span>
<span class="token comment">// can be modified even if we modify it through the</span>
<span class="token comment">// pointer itself. No CTE error</span>
<span class="token operator">*</span>i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token comment">// CTE because pointer variable</span>
<span class="token comment">// is const type so the address</span>
<span class="token comment">// pointed by the pointer variables</span>
<span class="token comment">// can't be changed</span>
i <span class="token operator">=</span> <span class="token operator">&amp;</span>y<span class="token punctuation">;</span></code></pre><ul class="notion-list notion-list-disc notion-block-c9d650201c7b421687510249152ac34c"><li>When const pointer pointing to a const variable</li></ul><pre class="notion-code language-c++"><code class="language-c++">int x<span class="token punctuation">{</span> <span class="token number">9</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
int y<span class="token punctuation">{</span> <span class="token number">8</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> int<span class="token operator">*</span> <span class="token keyword">const</span> i <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span>

<span class="token comment">// CTE: Once Ptr(*i) value is</span>
<span class="token comment">// assigned, later it can't</span>
<span class="token comment">// be modified(Error)</span>
<span class="token operator">*</span>i<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>

<span class="token comment">// CTE: because pointer variable</span>
<span class="token comment">// is const type so the address</span>
<span class="token comment">// pointed by the pointer variables</span>
<span class="token comment">// can't be changed</span>
i <span class="token operator">=</span> <span class="token operator">&amp;</span>y<span class="token punctuation">;</span></code></pre><ul class="notion-list notion-list-disc notion-block-878869e688ef494da0dfd10e668fc656"><li>Pass const-argument value to a non-const parameter of a function cause error</li></ul><pre class="notion-code language-c++"><code class="language-c++">int <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">int<span class="token operator">*</span> y</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">*</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
int <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    int z <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> int<span class="token operator">*</span> x <span class="token operator">=</span> <span class="token operator">&amp;</span>z<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token function">foo</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//CTE: invalid conversion</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></details><details class="notion-toggle notion-block-739e201505ed4a43aad313a5e736a864"><summary><h4 class="notion-h notion-h3 notion-block-739e201505ed4a43aad313a5e736a864" data-id="739e201505ed4a43aad313a5e736a864"><span><div id="739e201505ed4a43aad313a5e736a864" class="notion-header-anchor"></div><span class="notion-h-title">Const Methods</span></span></h4></summary><div><pre class="notion-code language-c++"><code class="language-c++"><span class="token comment">// A const member function of the class</span>
<span class="token keyword">class</span>
<span class="token punctuation">{</span>
   <span class="token keyword">void</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
   <span class="token punctuation">{</span>
       <span class="token comment">//.....</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><ul class="notion-list notion-list-disc notion-block-0810fb79193049ed8ec01714e15f4efc"><li>const object can only invoke const function</li></ul><ul class="notion-list notion-list-disc notion-block-bf04f6a0c908483d909c092657a12bbd"><li>const function cannot change a member variable of the class</li></ul><pre class="notion-code language-c++"><code class="language-c++"><span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    int value<span class="token punctuation">;</span>
 
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token comment">// Constructor</span>
    <span class="token function">Test</span><span class="token punctuation">(</span><span class="token parameter">int v <span class="token operator">=</span> <span class="token number">0</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        value <span class="token operator">=</span> v<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    <span class="token comment">// We get compiler error if we</span>
    <span class="token comment">// add a line like "value = 100;"</span>
    <span class="token comment">// in this function.</span>
    int <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
     
    <span class="token comment">// a nonconst function trying to modify value</span>
    <span class="token keyword">void</span> <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token parameter">int val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        value <span class="token operator">=</span> val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Test <span class="token function">t</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Test <span class="token function">t_const</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// non-const object invoking const function, no error</span>
cout <span class="token operator">&lt;&lt;</span> t<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token comment">// const object invoking const function, no error</span>
cout <span class="token operator">&lt;&lt;</span> t_const<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token comment">// const object invoking non-const function, CTE</span>
 t_const<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// non-const object invoking non-const function, no error</span>
t<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><div class="notion-blank notion-block-84b46c4b426843cea6965bc15e5f6c06"> </div></div></details><details class="notion-toggle notion-block-66cf81a5109f4f89a84f411e82cbc8df"><summary><h4 class="notion-h notion-h3 notion-block-66cf81a5109f4f89a84f411e82cbc8df" data-id="66cf81a5109f4f89a84f411e82cbc8df"><span><div id="66cf81a5109f4f89a84f411e82cbc8df" class="notion-header-anchor"></div><span class="notion-h-title"><b><b>Constant Function Parameters And Return Type:</b></b></span></span></h4></summary><div></div></details></div></details><div class="notion-text notion-block-3819d164c878447882e2a45c2fce31fd">const can be applied to 1) <b>variables</b>, 2) <b>function parameters</b>, 3) <b>return types</b> and 4) <b>member function</b></div><div class="notion-text notion-block-57d1bf8a529c4175b779b941379e5f3e">a very interesting case is the use of const for member function of operator:</div><pre class="notion-code language-c++"><code class="language-c++"><span class="token keyword">class</span> <span class="token class-name">TextBlock</span> <span class="token punctuation">{</span>

<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">// operator[] for const object</span>
	<span class="token keyword">const</span> char<span class="token operator">&amp;</span> operator<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>size_t position<span class="token punctuation">)</span> <span class="token keyword">const</span>
	<span class="token punctuation">{</span><span class="token keyword">return</span> text<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
	<span class="token comment">// operator[] for non-const object</span>
	char<span class="token operator">&amp;</span> operator<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>size_t position</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span><span class="token keyword">return</span> text<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>

<span class="token punctuation">}</span>

TextBlock <span class="token function">tb</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>cout <span class="token operator">&lt;&lt;</span> tb<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// calls non-const TextBlock::operator[]</span>
tb<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'x'</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>

TextBlock <span class="token function">c_tb</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>cout <span class="token operator">&lt;&lt;</span> c_tb<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// calls const TextBlock::operator[]</span>
c_tb<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'x'</span> <span class="token comment">// error</span></code></pre><h4 class="notion-h notion-h3 notion-block-1d3de8a57f764096a70e845b3e078bd4" data-id="1d3de8a57f764096a70e845b3e078bd4"><span><div id="1d3de8a57f764096a70e845b3e078bd4" class="notion-header-anchor"></div><a class="notion-hash-link" href="#1d3de8a57f764096a70e845b3e078bd4" title="Understanding bitwise const-ness vs. logical const-ness"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Understanding bitwise const-ness vs. logical const-ness</span></span></h4><div class="notion-text notion-block-3668e6c7f0324e23a30b07f4e54f4a18"><b>bitwise const-ness</b>: const member function doesn’t modify any object data members (exclude static).</div><div class="notion-text notion-block-e50fe6e018ba4778a1d15a5fae1ad1a2">However this is not always true, some workaround may happen as below:</div><pre class="notion-code language-c++"><code class="language-c++"><span class="token keyword">class</span> <span class="token class-name">TextBlock</span> <span class="token punctuation">{</span>

<span class="token keyword">public</span><span class="token operator">:</span>
	char<span class="token operator">&amp;</span> operator<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>size_t position<span class="token punctuation">)</span> <span class="token keyword">const</span>
	<span class="token punctuation">{</span><span class="token keyword">return</span> pText<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
	char <span class="token operator">*</span>pText<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> TextBlock <span class="token function">tb</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
char<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>tb<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token string">"J"</span><span class="token punctuation">;</span> <span class="token comment">// no error!!</span></code></pre><div class="notion-text notion-block-afc16f9611944eb98d59f180793347ce"><b>logical const-ness</b>: const member function might modify some of the bits but only in ways that clients cannot detect.</div><h4 class="notion-h notion-h3 notion-block-6cd0cb8755284e6b91fc79369750acde" data-id="6cd0cb8755284e6b91fc79369750acde"><span><div id="6cd0cb8755284e6b91fc79369750acde" class="notion-header-anchor"></div><a class="notion-hash-link" href="#6cd0cb8755284e6b91fc79369750acde" title="Avoid Code Duplication for Const and Non-const Functions"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Avoid Code Duplication for Const and Non-const Functions</span></span></h4><pre class="notion-code language-c++"><code class="language-c++"><span class="token keyword">class</span> <span class="token class-name">TextBlock</span> <span class="token punctuation">{</span>

<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">// operator[] for const object</span>
	<span class="token keyword">const</span> char<span class="token operator">&amp;</span> operator<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>size_t position<span class="token punctuation">)</span> <span class="token keyword">const</span>
			<span class="token punctuation">{</span>
					<span class="token comment">// lots of code</span>
					<span class="token keyword">return</span> text<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
	<span class="token comment">// operator[] for non-const object</span>
	char<span class="token operator">&amp;</span> operator<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>size_t position</span><span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
					<span class="token comment">// duplication code</span>
					<span class="token keyword">return</span> text<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">// simplified version</span>
<span class="token keyword">class</span> <span class="token class-name">TextBlock</span> <span class="token punctuation">{</span>

<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">// operator[] for const object</span>
	<span class="token keyword">const</span> char<span class="token operator">&amp;</span> operator<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>size_t position<span class="token punctuation">)</span> <span class="token keyword">const</span>
			<span class="token punctuation">{</span>
					<span class="token comment">// lots of code</span>
					<span class="token keyword">return</span> text<span class="token punctuation">[</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
	<span class="token comment">// operator[] for non-const object</span>
	char<span class="token operator">&amp;</span> operator<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>size_t position</span><span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
					<span class="token keyword">return</span> const_cast<span class="token operator">&lt;</span>char<span class="token operator">&amp;</span><span class="token operator">></span><span class="token punctuation">(</span>
										static_cast<span class="token operator">&lt;</span><span class="token keyword">const</span> TextBlock<span class="token operator">&amp;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">[</span>position<span class="token punctuation">]</span>
									<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><div class="notion-blank notion-block-b552cb533b7d4cf8be3b7bd20976edc1"> </div></div></details><details class="notion-toggle notion-block-33111872a82e4922a5026f9dd0ca67fc"><summary><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-33111872a82e4922a5026f9dd0ca67fc" data-id="33111872a82e4922a5026f9dd0ca67fc"><span><div id="33111872a82e4922a5026f9dd0ca67fc" class="notion-header-anchor"></div><span class="notion-h-title">Note2: Init before using</span></span></h4></summary><div><div class="notion-callout notion-gray_background_co notion-block-09056fb72ce949e5b393e4f30db240f1"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">manually init built-in type (otherwise the compiler will init it)</div></div><div class="notion-callout notion-gray_background_co notion-block-999335af038e4f93bd0ada0e15935376"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">in constructor, prefer use <b>member initialization list</b> than <b>assignment</b></div></div><div class="notion-callout notion-gray_background_co notion-block-2f49fdcf21b042aabe890af46b22737e"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">avoid initialization order uncertainty by replacing <b>non-local static objects</b> with<b> local static objects</b></div></div><h4 class="notion-h notion-h3 notion-block-0e8ba7745d3d467ca7dc3f1ba554ce09" data-id="0e8ba7745d3d467ca7dc3f1ba554ce09"><span><div id="0e8ba7745d3d467ca7dc3f1ba554ce09" class="notion-header-anchor"></div><a class="notion-hash-link" href="#0e8ba7745d3d467ca7dc3f1ba554ce09" title="Assignment v.s. Initialization"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Assignment v.s. Initialization</span></span></h4><pre class="notion-code language-c++"><code class="language-c++"><span class="token keyword">class</span> <span class="token class-name">Element</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Element</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>string<span class="token operator">&amp;</span> name<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>string<span class="token operator">&amp;</span> address<span class="token punctuation">,</span>
							 <span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>list<span class="token operator">&lt;</span>PhoneNumber<span class="token operator">></span><span class="token operator">&amp;</span> phone<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>string theName<span class="token punctuation">;</span>
	<span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>string theAddress<span class="token punctuation">;</span>
	<span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>list<span class="token operator">&lt;</span>PhoneNumber<span class="token operator">></span> thePhones<span class="token punctuation">;</span>
	int num<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// assignment</span>
<span class="token literal-property property">Element</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">Element</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>string<span class="token operator">&amp;</span> name<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>string<span class="token operator">&amp;</span> address<span class="token punctuation">,</span>
							 <span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>list<span class="token operator">&lt;</span>PhoneNumber<span class="token operator">></span><span class="token operator">&amp;</span> phones</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	theName <span class="token operator">=</span> name<span class="token punctuation">;</span>
	theAddress <span class="token operator">=</span> address<span class="token punctuation">;</span>
	thePhones <span class="token operator">=</span> phones<span class="token punctuation">;</span>
	num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// initialization</span>
<span class="token literal-property property">Element</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">Element</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>string<span class="token operator">&amp;</span> name<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>string<span class="token operator">&amp;</span> address<span class="token punctuation">,</span>
							 <span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>list<span class="token operator">&lt;</span>PhoneNumber<span class="token operator">></span><span class="token operator">&amp;</span> phones<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">theName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span>
																											 <span class="token function">theAddress</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">,</span>
																											 <span class="token function">thePhones</span><span class="token punctuation">(</span>phones<span class="token punctuation">)</span><span class="token punctuation">,</span>
																											 <span class="token function">num</span><span class="token punctuation">(</span><span class="token parameter"><span class="token number">0</span></span><span class="token punctuation">)</span>
																											 <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><ul class="notion-list notion-list-disc notion-block-faf00bc4a14247dea11809a71b927d1f"><li>initialization is <b>much more efficient</b> than assignment</li><ul class="notion-list notion-list-disc notion-block-faf00bc4a14247dea11809a71b927d1f"><li>in c++, data members of an object are initialized before the body of a constructor is entered.</li><li><span class="notion-inline-underscore">assignment version</span>: call default constructor of data numbers (wasteful operations), then enter the object constructor to assign.</li><li><span class="notion-inline-underscore">initialization version</span>: directly call constructor of data numbers with arguments</li><li>exception: built-in type is not guaranteed to be init before assignment</li></ul></ul><h4 class="notion-h notion-h3 notion-block-dfe464462be342ecbccdccf5eedec947" data-id="dfe464462be342ecbccdccf5eedec947"><span><div id="dfe464462be342ecbccdccf5eedec947" class="notion-header-anchor"></div><a class="notion-hash-link" href="#dfe464462be342ecbccdccf5eedec947" title="Singelton Pattern: change non-local static object to local static"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Singelton Pattern: change non-local static object to local static</span></span></h4><ul class="notion-list notion-list-disc notion-block-53742ce0908741bd9ec537b1c5332947"><li>Reason: initialization order is non-deterministic</li><ul class="notion-list notion-list-disc notion-block-53742ce0908741bd9ec537b1c5332947"><div class="notion-text notion-block-b40df707613b45a8bb7198456c9af32f">for the case below:</div><pre class="notion-code language-c++"><code class="language-c++"><span class="token comment">// in file A</span>
<span class="token keyword">class</span> <span class="token class-name">FileSystem</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>size_t <span class="token function">numDisks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
extern FileSystem tfs<span class="token punctuation">;</span> <span class="token comment">// global static object</span>

<span class="token comment">// in file B</span>
<span class="token keyword">class</span> <span class="token class-name">Directory</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Directory</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token literal-property property">Directory</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">Directory</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>size_t disks <span class="token operator">=</span> tfs<span class="token punctuation">.</span><span class="token function">numDisks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Directory <span class="token function">tempDir</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// static tempDir cannot be initlized before tfs.</span></code></pre><li>non-local static object <code class="notion-inline-code">tfs</code> in file A → compiled</li><li>another non-local static object <code class="notion-inline-code">tempDir</code> in file B, which uses <code class="notion-inline-code">tfs</code> → compiled</li><li>in initialization process, the initialization order of A and B are non-deterministic. And it is possible that when initialize <code class="notion-inline-code">tempDir</code>, <code class="notion-inline-code">tfs</code> is not initialized.</li></ul></ul><ul class="notion-list notion-list-disc notion-block-6f560422a7da4bd4a30d1f776f090e39"><li>Solution: Singelton Pattern</li><ul class="notion-list notion-list-disc notion-block-6f560422a7da4bd4a30d1f776f090e39"><pre class="notion-code language-c++"><code class="language-c++"><span class="token keyword">class</span> <span class="token class-name">FileSystem</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
FileSystem<span class="token operator">&amp;</span> <span class="token function">tfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">static</span> FileSystem fs<span class="token punctuation">;</span> <span class="token comment">// now it is local static object</span>
	<span class="token keyword">return</span> fs<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Directory</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Directory<span class="token operator">&amp;</span> <span class="token function">tempDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">static</span> Directory <span class="token function">dir</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// now it is local static object</span>
	<span class="token keyword">return</span> dir<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><li>This ensure that the <code class="notion-inline-code">fs</code> is init before the init of <code class="notion-inline-code">dir</code>.</li><li>good for inline if it is called frequently</li><li>However, it is not able to handle multi-thread env</li></ul></ul></div></details><details class="notion-toggle notion-block-4dd994b0c3d04c35801449741a7b37a8"><summary><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-4dd994b0c3d04c35801449741a7b37a8" data-id="4dd994b0c3d04c35801449741a7b37a8"><span><div id="4dd994b0c3d04c35801449741a7b37a8" class="notion-header-anchor"></div><span class="notion-h-title">Note3: Functions C++ Silently Writs and Calls</span></span></h4></summary><div><div class="notion-callout notion-gray_background_co notion-block-020f3b519da74357bfb9d66ac07ff1da"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">compiler will automatically generate default constructor, copy constructor, copy assignment and destructor.</div></div><div class="notion-callout notion-gray_background_co notion-block-2a447b09646747f9a78137fe7bff134e"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">disallow one or more of them by declare them as private and give no implementation. a base class can help to disallow all derived classes.</div></div><h4 class="notion-h notion-h3 notion-block-c31547cb545347e89e73d1388d7743f1" data-id="c31547cb545347e89e73d1388d7743f1"><span><div id="c31547cb545347e89e73d1388d7743f1" class="notion-header-anchor"></div><a class="notion-hash-link" href="#c31547cb545347e89e73d1388d7743f1" title="compiler generate functions"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">compiler generate functions</span></span></h4><ul class="notion-list notion-list-disc notion-block-39a5c76e946c458f952a43a059248a0d"><li>if not declared, compliers will declare them inline:</li><ul class="notion-list notion-list-disc notion-block-39a5c76e946c458f952a43a059248a0d"><li>default constructor</li><li>copy constructor</li><li>copy assignment</li><li>destructor</li></ul></ul><ul class="notion-list notion-list-disc notion-block-f45292cfd9e74a0ba052b1688e872a40"><li>default constructor will not be generated if any constructor is declared. (not for copy constructor).</li></ul><ul class="notion-list notion-list-disc notion-block-8159b45508bb4e6f8d048874708228d8"><li>if compiler is not able to generate the code (for example, copy involve modify some const variable), then the compiler will refuse</li></ul><h4 class="notion-h notion-h3 notion-block-ce91169f6ef74a9e83b9d9c011060908" data-id="ce91169f6ef74a9e83b9d9c011060908"><span><div id="ce91169f6ef74a9e83b9d9c011060908" class="notion-header-anchor"></div><a class="notion-hash-link" href="#ce91169f6ef74a9e83b9d9c011060908" title="disallow compiler generate functions"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">disallow compiler generate functions</span></span></h4><ul class="notion-list notion-list-disc notion-block-69f8cc1b79044aeb8d5b3685c946f2bb"><li>declare function that you don’t want compiler to generate in private</li></ul><ul class="notion-list notion-list-disc notion-block-222f8263ed2e4373b3b42ad05d89210d"><li>you can even declare it in base class, then al subclass will not have this issue. This also ensure the compile time error detection.</li><ul class="notion-list notion-list-disc notion-block-222f8263ed2e4373b3b42ad05d89210d"><pre class="notion-code language-c++"><code class="language-c++"><span class="token keyword">class</span> <span class="token class-name">Uncopyable</span> <span class="token punctuation">{</span>
<span class="token keyword">protected</span><span class="token operator">:</span>
	<span class="token function">Uncopyable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// allow construction and destruction</span>
	<span class="token operator">~</span><span class="token function">Uncopyable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token function">Uncopyable</span><span class="token punctuation">(</span><span class="token keyword">const</span> Uncopyable<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// prevent copying</span>
	Uncopyable<span class="token operator">&amp;</span> operator<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Uncopyable<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// </span>
<span class="token keyword">class</span> <span class="token class-name">Element</span><span class="token operator">:</span> <span class="token keyword">private</span> Uncopyable <span class="token punctuation">{</span>
	<span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></ul></ul></div></details><details class="notion-toggle notion-block-04c230f910394aaabc1cb999d884bf09"><summary><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-04c230f910394aaabc1cb999d884bf09" data-id="04c230f910394aaabc1cb999d884bf09"><span><div id="04c230f910394aaabc1cb999d884bf09" class="notion-header-anchor"></div><span class="notion-h-title">Note4: Virtual Destructor in Polymorphic Base Class</span></span></h4></summary><div><div class="notion-callout notion-gray_background_co notion-block-97cfb51075e142a9b925b1808354e1aa"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">polymorphic base classes should be declared virtual destructor</div></div><div class="notion-callout notion-gray_background_co notion-block-5c20fb3e298c49c3a7861be364171625"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">classes not designed to be base classes or polymorphic should not be declared virtual destructor</div></div><div class="notion-text notion-block-41657b06ce4f4d39a8fe986a2e95a493">For classes <code class="notion-inline-code">Base</code> and <code class="notion-inline-code">Derived</code>, if both of them have their non-virtual destructor:</div><div class="notion-text notion-block-ca25ad9325644fffac96973f69ec5f55">if we make a instance <code class="notion-inline-code">Base* p = getDerived()</code>, and call <code class="notion-inline-code">delete p</code>. The object being deleted is via a base class pointer. </div><div class="notion-text notion-block-70143f8696554544a51a7902aa5a661c"><b>Partially Destroy</b>: The c++ specifies when a derived class object is deleted through a pointer to a base class with a non-virtual destructor, results are undefined. What typically happen is that at runtime, derived part of` the object is never destroyed.</div><div class="notion-text notion-block-8b88c8bc3893422a99009af3d5accf12"><b>Solution</b>: virtual destructor in base class.</div><div class="notion-text notion-block-5ada3b36b8f8408f8a4654e29d05e610"><b>Summary</b>: 1) Declare a virtual destructor in a class if and only if that class contains at least one virtual function. 2) Never use class with non-virtual destructor as base (e.g. STL).</div><div class="notion-text notion-block-da047eef66b1496db76643f3b6ecbd51">this is only apply to polymorphic base classes - <em>base classes designed to allow the manipulation of derived class type through base class interface</em></div><div class="notion-text notion-block-09fbe33aa4b8450b938f85ccc8a6ad50"> </div><div class="notion-blank notion-block-4fdfc8db3ea54e0ea7677a0f0019ce35"> </div><div class="notion-blank notion-block-36330d2f31284c019865b4e9d1588d05"> </div></div></details><details class="notion-toggle notion-block-010de75476de4d45983d50ab1ff23267"><summary><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-010de75476de4d45983d50ab1ff23267" data-id="010de75476de4d45983d50ab1ff23267"><span><div id="010de75476de4d45983d50ab1ff23267" class="notion-header-anchor"></div><span class="notion-h-title">Note5: Prevent Exception from Leaving Destructor</span></span></h4></summary><div><div class="notion-callout notion-gray_background_co notion-block-0ca2cf24a9b9452b8c76b7aec0ddeae5"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">Destructor should never emit exception!</div></div><div class="notion-callout notion-gray_background_co notion-block-8b091cba28b44a7abfb6590904a08330"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">If the class’s clients need to be able to react to the exception, provide a regular function to perform this operation.</div></div><div class="notion-text notion-block-62bbaf5502b9471e89f996904b81045b">A destructor may not fail. If a destructor tries to exit with an exception, it&#x27;s a bad design error and the program had better terminate.</div><div class="notion-text notion-block-5afe6143df534895a109de71cb511931">It may lead to the situations that during destruction, multiple active exceptions are thrown. Two simultaneous active exception will cause program execution terminated or undefined behavior.</div><div class="notion-text notion-block-d58e9c2bb58f4a1c90e7fef6a41d78bd">There are two ways to handle it:</div><ul class="notion-list notion-list-disc notion-block-768f40020b9742aeb4c3c63500cdfeb0"><li>Terminate the program</li><ul class="notion-list notion-list-disc notion-block-768f40020b9742aeb4c3c63500cdfeb0"><pre class="notion-code language-c++"><code class="language-c++"><span class="token literal-property property">DBConn</span><span class="token operator">:</span><span class="token operator">:</span><span class="token operator">~</span><span class="token function">DBConn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span> db<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
	<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// make log entry that the call to close failed</span>
		<span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></ul></ul><ul class="notion-list notion-list-disc notion-block-62af0b35cf0b453197e72c75cffee37d"><li>Swallow the exception</li><ul class="notion-list notion-list-disc notion-block-62af0b35cf0b453197e72c75cffee37d"><pre class="notion-code language-c++"><code class="language-c++"><span class="token literal-property property">DBConn</span><span class="token operator">:</span><span class="token operator">:</span><span class="token operator">~</span><span class="token function">DBConn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span> db<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
	<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// make log entry that the call to close failed</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><div class="notion-text notion-block-f3d924f9c9894ebbb85ad5e2e7b32039">in general, this is a bad idea. It suppresses important information - failure.</div><div class="notion-text notion-block-0d22df035eda467d8e721640c3fd1ab8">but sometimes may useful</div></ul></ul><ul class="notion-list notion-list-disc notion-block-ea631973e8424207b4237e550676c69b"><li>A better strategy</li><ul class="notion-list notion-list-disc notion-block-ea631973e8424207b4237e550676c69b"><pre class="notion-code language-c++"><code class="language-c++">calss DBConn <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		db<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		closed <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">DBConn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>closed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				db<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// goes back to termination or swallow</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	DBConnection db<span class="token punctuation">;</span>
	bool closed<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="notion-text notion-block-f3deb740f04e4f8c9f94dfb4acf2c2a7">the advantage of this one is to move responsibility of close from destructor to client.</div></ul></ul><div class="notion-blank notion-block-5a7d0ff0c5924383870324ac855310f3"> </div></div></details><details class="notion-toggle notion-block-3ba1f4a819ee45c2afeadbb43987c0d3"><summary><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-3ba1f4a819ee45c2afeadbb43987c0d3" data-id="3ba1f4a819ee45c2afeadbb43987c0d3"><span><div id="3ba1f4a819ee45c2afeadbb43987c0d3" class="notion-header-anchor"></div><span class="notion-h-title">Note6: Never Call Virtual Function During Construction/Destruction</span></span></h4></summary><div><div class="notion-callout notion-gray_background_co notion-block-11e359804a7d42f39d600148f93e67fb"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">Don’t call virtual functions during construction or destruction, because such calls will never go to a more derived class than that of the currently executing constructor or destructor. [<em>This is something different from Java.</em>]</div></div><pre class="notion-code language-c++"><code class="language-c++"><span class="token keyword">class</span> <span class="token class-name">Transaction</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Transaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	virtual <span class="token keyword">void</span> <span class="token function">logTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token literal-property property">Transaction</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">Transaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token operator">...</span>
	<span class="token function">logTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">BuyTransaction</span> <span class="token operator">:</span> pubic Transaction <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	virtual <span class="token keyword">void</span> <span class="token function">logTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
	<span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SellTransaction</span> <span class="token operator">:</span> <span class="token keyword">public</span> Transaction <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	virtual <span class="token keyword">void</span> <span class="token function">logTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><div class="notion-text notion-block-f18fbe7089164db2b0cad558bf5bd5a7">When <code class="notion-inline-code">BuyTransaction b;</code> is executed, <code class="notion-inline-code">BuyTransaction</code>’s constructor will be called. But before this, <code class="notion-inline-code">Transaction</code>’s constructor will be called. This is because <span class="notion-red"><b>base class parts of derived class object are constructed before derived class parts are</b></span>. As the last line of the base class constructor, the virtual <code class="notion-inline-code">logTransaction</code> will be called. This will cause undefined behavior.</div><div class="notion-text notion-block-89ac612b86744fe4b22338eea9f66a74">During base class construction of a derived class object, the type of the object is that of the base class. Not only do virtual functions resolve to the base class, but the parts of the language using runtime type information (e.g., dynamic_cast and typeid) treat the object as a base class type. <b>An object doesn’t become a derived class object until execution of a derived class constructor begins.</b></div><div class="notion-text notion-block-c2cf68c82d3c43f1b839abcc01e7a0ae">The same reasoning applies during destruction. Once a derived class destructor has run, the object’s derived class data members assume undefined values, so C++ treats them as if they no longer exist. Upon entry to the base class destructor, the object becomes a base class object, and all parts of C++ — virtual functions, dynamic_casts, etc., — treat it that way.</div><div class="notion-text notion-block-e4241012e82d4227a2dae9469ac8936c">In this case, because logTransaction is pure virtual in Transaction, most runtime systems will abort the program when the pure virtual is called (typically issuing a message to that effect). However, if logTransaction were a “normal” virtual function (i.e., not pure virtual) with an implementation in Transaction, that version would be called, and the program would merrily trot along, leaving you to figure out why the wrong version of logTransaction was called when a derived class object was created.</div><ul class="notion-list notion-list-disc notion-block-97d59d0324634c5f86c0c8a868643d0f"><li><b>Solution</b>: Turn logTransaction into a non-virtual function in Transaction</li></ul><pre class="notion-code language-c++"><code class="language-c++"><span class="token keyword">class</span> <span class="token class-name">Transaction</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
explicit <span class="token function">Transaction</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>string<span class="token operator">&amp;</span> logInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">logTransaction</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>string<span class="token operator">&amp;</span> logInfo<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span> <span class="token comment">// now a non-virtual fun</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token literal-property property">Transaction</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">Transaction</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">const</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>string<span class="token operator">&amp;</span> logInfo</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token operator">...</span>
	<span class="token function">logTransaction</span><span class="token punctuation">(</span>logInfo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// now a non-virtual call</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">BuyTransaction</span><span class="token operator">:</span> <span class="token keyword">public</span> Transaction
<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">BuyTransaction</span><span class="token punctuation">(</span> parameters <span class="token punctuation">)</span>
	<span class="token operator">:</span> <span class="token function">Transaction</span><span class="token punctuation">(</span><span class="token function">createLogString</span><span class="token punctuation">(</span> parameters <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// pass log info to base class constructor</span>
	<span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span> 
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">static</span> <span class="token literal-property property">std</span><span class="token operator">:</span><span class="token operator">:</span>string <span class="token function">createLogString</span><span class="token punctuation">(</span> parameters <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><div class="notion-text notion-block-59f709d9932e434aa7ea30b32b64338f">This requires that derived class constructors pass the necessary log information to the Transaction constructor. That function can then safely call the non-virtual logTransaction.</div><div class="notion-text notion-block-15525c7008204607831bb1a5c5e9a7aa">By making the <code class="notion-inline-code">createLogString</code> function static, there’s no danger of accidentally referring to the nascent BuyTransaction object’s as-yet-uninitialized data members. That’s important, because the fact that those data members will be in an undefined state is why calling virtual functions during base class construction and destruction doesn’t go down into derived classes in the first place.</div></div></details><details class="notion-toggle notion-block-74309ee530f347a2b4e4f690ddd17cec"><summary><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-74309ee530f347a2b4e4f690ddd17cec" data-id="74309ee530f347a2b4e4f690ddd17cec"><span><div id="74309ee530f347a2b4e4f690ddd17cec" class="notion-header-anchor"></div><span class="notion-h-title">Note7: Have Assignment Operators Return a Reference to *this</span></span></h4></summary><div><div class="notion-callout notion-gray_background_co notion-block-a29aa4ad4b9e4e5599336e66abaeb940"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">Have assignment operators return a reference to *this.</div></div><ul class="notion-list notion-list-disc notion-block-bb7866409e3b460ea78181707460f78a"><li>how x=y=z=1 works?</li></ul><ul class="notion-list notion-list-disc notion-block-5b49082615be420ba684bb82844b1094"><li>it is convert to x=(y=(z=1)) and call the assignment operators</li></ul><pre class="notion-code language-c++"><code class="language-c++"><span class="token keyword">class</span> <span class="token class-name">Widget</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token operator">...</span>
	Widget<span class="token operator">&amp;</span> operator<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Widget<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token comment">// return type is a reference</span>
	<span class="token punctuation">{</span>                                    <span class="token comment">// to the current class</span>
	<span class="token operator">...</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">// return the left-hand object</span>
	<span class="token punctuation">}</span>
	<span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><ul class="notion-list notion-list-disc notion-block-493836224d044e81a1c0904954ce4c65"><li>This convention applies to all assignment operators, </li><ul class="notion-list notion-list-disc notion-block-493836224d044e81a1c0904954ce4c65"><li>eg. +=, -=, *= etc: <code class="notion-inline-code">Widget&amp; operator+=(const Widget&amp; rhs)</code></li><li>eg. other parameter types: <code class="notion-inline-code">Widget&amp; operator=(int rhs)</code></li></ul></ul><ul class="notion-list notion-list-disc notion-block-3762745190ee4c3e9cfec79f40469483"><li>This is only a convention; code that doesn’t follow it will compile. However, the convention is followed by all the built-in types as well as by all the types in the standard library. <span class="notion-red"><b>Unless you have a good reason for doing things differently, don’t</b></span>.</li></ul></div></details><details class="notion-toggle notion-block-ab413eecefeb49849ac3e92f9ffbd66d"><summary><h4 class="notion-h notion-h3 notion-h-indent-0 notion-block-ab413eecefeb49849ac3e92f9ffbd66d" data-id="ab413eecefeb49849ac3e92f9ffbd66d"><span><div id="ab413eecefeb49849ac3e92f9ffbd66d" class="notion-header-anchor"></div><span class="notion-h-title">Note8: Handle assignment to self in operator=</span></span></h4></summary><div><div class="notion-callout notion-gray_background_co notion-block-697aff5a4ad3493eaf1212ea825182b1"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">Make sure operator= is well-behaved when an object is assigned to itself.</div></div><div class="notion-callout notion-gray_background_co notion-block-8f9a99e73ab6493caf18be78b3c014e4"><span class="notion-page-icon" role="img" aria-label="💡">💡</span><div class="notion-callout-text">Make sure that any function operating on more than one object behaves correctly if two or more of the objects are the same.</div></div><div class="notion-text notion-block-50bee76ab96545809c77ce29b9fb2241">your assignment operators will probably be self-assignment-safe without your having to think about it. Some cases:</div><pre class="notion-code language-c++"><code class="language-c++">x <span class="token operator">=</span> x<span class="token punctuation">;</span>
a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token operator">*</span>px <span class="token operator">=</span> <span class="token operator">*</span>py<span class="token punctuation">;</span>
<span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token keyword">const</span> Base<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> Derive<span class="token operator">*</span> b<span class="token punctuation">)</span></code></pre><div class="notion-text notion-block-c71be272abe744648328e7f9e6020d6a">If you try to manage resources yourself, however (which you’d certainly have to do if you were writing a resource managing class), you can fall into the trap of <b>accidentally releasing a resource before you’re done using it</b>.</div><pre class="notion-code language-c++"><code class="language-c++">Widget<span class="token operator">&amp;</span> Widget<span class="token operator">:</span><span class="token operator">:</span>operator<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Widget<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token comment">// unsafe impl. of operator=</span>
<span class="token punctuation">{</span>
	<span class="token keyword">delete</span> pb<span class="token punctuation">;</span> <span class="token comment">// stop using current </span>
	bitmappb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bitmap</span><span class="token punctuation">(</span><span class="token operator">*</span>rhs<span class="token punctuation">.</span>pb<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// start using a copy of rhs’s bitmap</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><ul class="notion-list notion-list-disc notion-block-d4c77f8367234ff5a9bd02236b57c238"><li><b>Solution 1: identity test</b></li></ul><pre class="notion-code language-c++"><code class="language-c++">Widget<span class="token operator">&amp;</span> Widget<span class="token operator">:</span><span class="token operator">:</span>operator<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Widget<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token operator">&amp;</span>rhs<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">// identity test: if a self-assignment, do nothing</span>
	<span class="token keyword">delete</span> pb<span class="token punctuation">;</span>
	pb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bitmap</span><span class="token punctuation">(</span><span class="token operator">*</span>rhs<span class="token punctuation">.</span>pb<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="notion-text notion-block-3072a684e95b4fae964ee165f23d56ae">This works. However, the previous version of <code class="notion-inline-code">operator=</code> wasn’t just self-assignment-unsafe, it was also exception-unsafe, and this version continues to have exception trouble. In particular, if the “new Bitmap” expression yields an exception (either because there is insufficient memory for the allocation or because Bitmap’s copy constructor throws one), <span class="notion-red"><b>the Widget will end up holding a pointer to a deleted Bitmap</b></span>. Such pointers are toxic. You can’t safely delete them. You can’t even safely read them. About the only safe thing you can do with them is spend lots of debugging energy figuring out where they came from.</div><ul class="notion-list notion-list-disc notion-block-ddd97354297445d3963aa69926127650"><li><b>Solution 2</b>: <b>self-assignment-unsafe and exception-safe</b></li></ul><pre class="notion-code language-c++"><code class="language-c++">Widget<span class="token operator">&amp;</span> Widget<span class="token operator">:</span><span class="token operator">:</span>operator<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Widget<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Bitmap <span class="token operator">*</span>pOrig <span class="token operator">=</span> pb<span class="token punctuation">;</span> <span class="token comment">// remember original pb</span>
	pb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bitmap</span><span class="token punctuation">(</span><span class="token operator">*</span>rhs<span class="token punctuation">.</span>pb<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// point pb to a copy of rhs’s bitmap</span>
	<span class="token keyword">delete</span> pOrig<span class="token punctuation">;</span> <span class="token comment">// delete the original pb</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="notion-text notion-block-2c64e80fde544327ab9c1cd3f828211f">Now, if “new Bitmap” throws an exception, pb (and the Widget it’s inside of) remains unchanged.</div><ul class="notion-list notion-list-disc notion-block-b7beccd178794661bdc24e93f40cdc9b"><li><b>Solution 3: Copy and Swap</b></li></ul><pre class="notion-code language-c++"><code class="language-c++"><span class="token keyword">class</span> <span class="token class-name">Widget</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span>
	<span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>Widget<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// exchange *this’s and rhs’s data</span>
	<span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Widget<span class="token operator">&amp;</span> Widget<span class="token operator">:</span><span class="token operator">:</span>operator<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Widget<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Widget <span class="token function">temp</span><span class="token punctuation">(</span>rhs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// make a copy of rhs’s data</span>
	<span class="token function">swap</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// swap *this’s data with the copy’s</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="notion-text notion-block-78bfc161fda74a9b9a9df7d9555981b0">this can be cleaner as:</div><pre class="notion-code language-c++"><code class="language-c++">Widget<span class="token operator">&amp;</span> Widget<span class="token operator">:</span><span class="token operator">:</span>operator<span class="token operator">=</span><span class="token punctuation">(</span>Widget rhs<span class="token punctuation">)</span> <span class="token comment">// rhs is a copy of the object</span>
<span class="token punctuation">{</span>                                     <span class="token comment">// passed in — note pass by vals</span>
	<span class="token function">wap</span><span class="token punctuation">(</span>rhs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// swap *this’s data with the copy’s</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="notion-blank notion-block-bc1110bf531e4c94a67fbfcdde85010e"> </div></div></details><div class="notion-blank notion-block-36dbfb925dd849b7ae94a2ab61cbe009"> </div></main></div><div class="flex justify-between font-medium text-gray-500 dark:text-gray-400"><a><button class="mt-2 cursor-pointer hover:text-black dark:hover:text-gray-100">← Back</button></a><a><button class="mt-2 cursor-pointer hover:text-black dark:hover:text-gray-100">↑ Top</button></a></div></article></div></div></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","date":{"start_date":"2022-12-01"},"thumbnail":"https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F92db64a8-2a94-4154-806f-08b041fe9b00%2F1_b1uKvezKwfzHQzQl5bKV9Q.jpeg?table=block\u0026id=2cd2bd7c-73ef-4394-87dd-0fc9f085dba2\u0026cache=v2","type":["Post"],"slug":"effective-cpp","tags":["C++","Code"],"summary":"Some notes for the learning of Effective C++","author":[{"id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","name":"zzzz-vincent","profile_photo":"https://s3-us-west-2.amazonaws.com/public.notion-static.com/6c509773-f27d-4c13-875f-0c60b39074bf/headshot_small.jpg"}],"title":"Reading: Effective C++","status":["Public"],"createdTime":"Fri Jan 27 2023 00:55:55 GMT-0800 (Pacific Standard Time)","fullWidth":false},"blockMap":{"block":{"2cd2bd7c-73ef-4394-87dd-0fc9f085dba2":{"role":"reader","value":{"id":"2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","version":471,"type":"page","properties":{"NX\\Q":[["‣",[["d",{"type":"date","start_date":"2022-12-01"}]]]],"WxpT":[["1_b1uKvezKwfzHQzQl5bKV9Q.jpeg",[["a","https://s3-us-west-2.amazonaws.com/secure.notion-static.com/92db64a8-2a94-4154-806f-08b041fe9b00/1_b1uKvezKwfzHQzQl5bKV9Q.jpeg"]]]],"`gQ~":[["Post"]],"d]hq":[["effective-cpp"]],"sD^m":[["C++,Code"]],"wz|S":[["Some notes for the learning of "],["Effective C++",[["i"]]]],"~rC=":[["‣",[["u","8d91eb22-d5ae-4a85-ad77-d8911f5589a4"]]]],"title":[["Reading: Effective C++"]],"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":[["Public"]]},"content":["65ae4ab0-c4fd-4d12-a7d0-56fe47bc084a","ee219e4a-7e42-4be2-9092-f8b97fa60165","33111872-a82e-4922-a502-6f9dd0ca67fc","4dd994b0-c3d0-4c35-8014-49741a7b37a8","04c230f9-1039-4aaa-bc1c-b999d884bf09","010de754-76de-4d45-983d-50ab1ff23267","3ba1f4a8-19ee-45c2-afea-dbb43987c0d3","74309ee5-30f3-47a2-b4e4-f690ddd17cec","ab413eec-efeb-4984-9ac3-e92f9ffbd66d","36dbfb92-5dd8-49b7-ae94-a2ab61cbe009"],"created_time":1674809755592,"last_edited_time":1674986340467,"parent_id":"57514c87-fdd3-44e3-81d2-4b83518ee9fa","parent_table":"collection","alive":true,"file_ids":["9b9be81a-ec23-4c87-bf53-08614aef79fb","92db64a8-2a94-4154-806f-08b041fe9b00"],"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"a9c51699-1e50-4bea-adcb-5057c5bddc7b":{"role":"reader","value":{"id":"a9c51699-1e50-4bea-adcb-5057c5bddc7b","version":38,"type":"collection_view_page","view_ids":["07450bcb-93f3-4ef8-af09-a6b03629d439","2bdcebad-9bb0-4b80-9a68-88d71dc88dc1"],"collection_id":"57514c87-fdd3-44e3-81d2-4b83518ee9fa","format":{"block_locked":false,"block_locked_by":"2c0e0b01-f59e-4e03-b7b6-7d706eecada3","collection_pointer":{"id":"57514c87-fdd3-44e3-81d2-4b83518ee9fa","table":"collection","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"},"copied_from_pointer":{"id":"12c38b5f-459d-4eb9-a759-f92fba6cea36","table":"block","spaceId":"81443245-8ca3-4444-b4b0-d1c233a71a25"}},"permissions":[{"role":"editor","type":"user_permission","user_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4"},{"role":"reader","type":"public_permission","added_timestamp":1674795833030}],"created_time":1674795731761,"last_edited_time":1675316826685,"parent_id":"a9502724-d7a1-44ec-8237-1b7455afe793","parent_table":"space","alive":true,"copied_from":"12c38b5f-459d-4eb9-a759-f92fba6cea36","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"65ae4ab0-c4fd-4d12-a7d0-56fe47bc084a":{"role":"reader","value":{"id":"65ae4ab0-c4fd-4d12-a7d0-56fe47bc084a","version":217,"type":"text","properties":{"title":[["C++ is the best language in the world!",[["i"]]]]},"created_time":1674810206401,"last_edited_time":1674811043390,"parent_id":"2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"ee219e4a-7e42-4be2-9092-f8b97fa60165":{"role":"reader","value":{"id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","version":138,"type":"sub_sub_header","properties":{"title":[["Note1: Use "],["const",[["c"]]],[" Whenever Possible"]]},"content":["c5802362-542c-4701-8f99-c8ebee93742a","a0b75efa-86ca-4f75-99a5-a4f2a6c75257","6ecfe7db-94e0-4cfe-96ee-33e92794882c","6f78940c-846b-425b-bf23-ad48d1a499a6","3819d164-c878-4478-82e2-a45c2fce31fd","57d1bf8a-529c-4175-b779-b941379e5f3e","2c5102aa-f45d-44ae-8d82-adab1dcd975c","1d3de8a5-7f76-4096-a70e-845b3e078bd4","3668e6c7-f032-4e23-a30b-07f4e54f4a18","e50fe6e0-18ba-4778-a1d1-5a5fae1ad1a2","924bbd07-be4a-4c8d-83e6-0695c13fd0f6","afc16f96-1194-4eb9-8d59-f180793347ce","6cd0cb87-5528-4e6b-91fc-79369750acde","94f33b89-16ba-44b1-befb-4dccdb4a33d8","b552cb53-3b7d-4cf8-be3b-7bd20976edc1"],"format":{"toggleable":true,"copied_from_pointer":{"id":"fc31cd44-0ae2-4f44-bd29-58dae860933e","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810286086,"last_edited_time":1674812149343,"parent_id":"2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","parent_table":"block","alive":true,"copied_from":"fc31cd44-0ae2-4f44-bd29-58dae860933e","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"33111872-a82e-4922-a502-6f9dd0ca67fc":{"role":"reader","value":{"id":"33111872-a82e-4922-a502-6f9dd0ca67fc","version":32,"type":"sub_sub_header","properties":{"title":[["Note2: Init before using"]]},"content":["09056fb7-2ce9-49e5-b393-e4f30db240f1","999335af-038e-4f93-bd0a-da0e15935376","2f49fdcf-21b0-42aa-be89-0af46b22737e","0e8ba774-5d3d-467c-a7dc-3f1ba554ce09","579e96f8-ea85-4c8d-991d-8dd5cf95a257","faf00bc4-a142-47de-a118-09a71b927d1f","dfe46446-2be3-42ec-bccd-ccf5eedec947","53742ce0-9087-41bd-9ec5-37b1c5332947","6f560422-a7da-4bd4-a30d-1f776f090e39"],"format":{"toggleable":true,"copied_from_pointer":{"id":"b944797e-9d77-4274-a67b-fef07d6ebb84","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812505275,"parent_id":"2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","parent_table":"block","alive":true,"copied_from":"b944797e-9d77-4274-a67b-fef07d6ebb84","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"4dd994b0-c3d0-4c35-8014-49741a7b37a8":{"role":"reader","value":{"id":"4dd994b0-c3d0-4c35-8014-49741a7b37a8","version":47,"type":"sub_sub_header","properties":{"title":[["Note3: Functions C++ Silently Writs and Calls"]]},"content":["020f3b51-9da7-4357-bfb9-d66ac07ff1da","2a447b09-6467-47f9-a781-37fe7bff134e","c31547cb-5453-47e8-9e73-d1388d7743f1","39a5c76e-946c-458f-952a-43a059248a0d","f45292cf-d9e7-4a0b-a052-b1688e872a40","8159b455-08bb-4e6f-8d04-8874708228d8","ce91169f-6ef7-4a9e-83b9-d9c011060908","69f8cc1b-7904-4aeb-8d5b-3685c946f2bb","222f8263-ed2e-4373-b3b4-2ad05d89210d"],"format":{"toggleable":true,"copied_from_pointer":{"id":"e152dce2-5f27-4477-80a1-c952047b89e9","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265384,"last_edited_time":1674812809359,"parent_id":"2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","parent_table":"block","alive":true,"copied_from":"e152dce2-5f27-4477-80a1-c952047b89e9","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"04c230f9-1039-4aaa-bc1c-b999d884bf09":{"role":"reader","value":{"id":"04c230f9-1039-4aaa-bc1c-b999d884bf09","version":73,"type":"sub_sub_header","properties":{"title":[["Note4: Virtual Destructor in Polymorphic Base Class"]]},"content":["97cfb510-75e1-42a9-b925-b1808354e1aa","5c20fb3e-298c-49c3-a786-1be364171625","41657b06-ce4f-4d39-a8fe-986a2e95a493","ca25ad93-2564-4fff-ac96-973f69ec5f55","70143f86-9655-4544-a51a-7902aa5a661c","8b88c8bc-3893-422a-9900-9af3d5accf12","5ada3b36-b8f8-408f-8a46-54e29d05e610","da047eef-66b1-496d-b766-43f3b6ecbd51","09fbe33a-a4b8-450b-938f-85ccc8a6ad50","4fdfc8db-3ea5-4e0e-a767-7a0f0019ce35","36330d2f-3128-4c01-9865-b4e9d1588d05"],"format":{"toggleable":true,"copied_from_pointer":{"id":"a4866467-7646-4a4d-bd6a-66f6f34f4349","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265385,"last_edited_time":1674946493764,"parent_id":"2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","parent_table":"block","alive":true,"copied_from":"a4866467-7646-4a4d-bd6a-66f6f34f4349","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"010de754-76de-4d45-983d-50ab1ff23267":{"role":"reader","value":{"id":"010de754-76de-4d45-983d-50ab1ff23267","version":183,"type":"sub_sub_header","properties":{"title":[["Note5: Prevent Exception from Leaving Destructor"]]},"content":["0ca2cf24-a9b9-452b-8c76-b7aec0ddeae5","8b091cba-28b4-4a7a-bfb6-590904a08330","62bbaf55-02b9-471e-89f9-96904b81045b","5afe6143-df53-4895-a109-de71cb511931","d58e9c2b-b58f-4a1c-90e7-fef6a41d78bd","768f4002-0b97-42ae-b4c3-c63500cdfeb0","62af0b35-cf0b-4531-97e7-2c75cffee37d","ea631973-e842-4207-b423-7e550676c69b","5a7d0ff0-c592-4383-8703-24ac855310f3"],"format":{"toggleable":true},"created_time":1674810507051,"last_edited_time":1674947795703,"parent_id":"2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"3ba1f4a8-19ee-45c2-afea-dbb43987c0d3":{"role":"reader","value":{"id":"3ba1f4a8-19ee-45c2-afea-dbb43987c0d3","version":235,"type":"sub_sub_header","properties":{"title":[["Note6: Never Call Virtual Function During Construction/Destruction"]]},"content":["11e35980-4a7d-42f3-9d60-0148f93e67fb","70f5b418-2f3d-44d3-bde0-0261bb084cd2","f18fbe70-8916-4db2-b0ca-d558bf5bd5a7","89ac612b-8674-4fe4-b223-38eea9f66a74","c2cf68c8-2d3c-43f1-b839-abcc01e7a0ae","e4241012-e82d-4227-a2da-e9469ac8936c","97d59d03-2463-4c5f-86c0-c8a868643d0f","4559881b-9ddf-4845-81e9-b0b6b0f173b7","59f709d9-932e-434a-a7ea-30b32b64338f","15525c70-0820-4607-831b-b1a5c5e9a7aa"],"format":{"toggleable":true},"created_time":1674947851422,"last_edited_time":1674979951869,"parent_id":"2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"74309ee5-30f3-47a2-b4e4-f690ddd17cec":{"role":"reader","value":{"id":"74309ee5-30f3-47a2-b4e4-f690ddd17cec","version":200,"type":"sub_sub_header","properties":{"title":[["Note7: Have Assignment Operators Return a Reference to *this"]]},"content":["a29aa4ad-4b9e-4e55-9933-6e66abaeb940","bb786640-9e3b-460e-a781-81707460f78a","5b490826-15be-420b-a684-bb82844b1094","304d8905-cc1b-4a9a-ab27-0053c2dd31ab","49383622-4d04-4e81-a1c0-904954ce4c65","37627451-90ee-4c3e-9cfe-c79f40469483","a855be73-bbaf-4ceb-8951-6036795d7a17"],"format":{"toggleable":true},"created_time":1674979953051,"last_edited_time":1674981109923,"parent_id":"2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"ab413eec-efeb-4984-9ac3-e92f9ffbd66d":{"role":"reader","value":{"id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","version":99,"type":"sub_sub_header","properties":{"title":[["Note8: Handle assignment to self in operator="]]},"content":["697aff5a-4ad3-493e-af12-12ea825182b1","8f9a99e7-3ab6-493c-af18-be78b3c014e4","50bee76a-b965-4580-9c77-ce29b9fb2241","d794442d-423e-4924-b37c-f03405722902","c71be272-abe7-4464-8328-e7f9e6020d6a","68c70eba-618e-48d6-84df-c2321f90cf1d","d4c77f83-6723-4ff5-a9bd-02236b57c238","50d4ba96-abf9-4b5d-9219-6a64efe20de8","3072a684-e95b-4fae-964e-e165f23d56ae","ddd97354-2974-45d3-963a-a69926127650","d54b0002-9b6d-4afa-ba2f-ae0da091bcba","2c64e80f-de54-4327-ab9c-1cd3f828211f","b7beccd1-7879-4661-bdc2-4e93f40cdc9b","fdf19a86-be6d-4562-badf-ebc87b623ba3","78bfc161-fda7-4a9b-9a9d-f7d9555981b0","ca4172ee-c32e-4624-9525-02dd0f01338e","bc1110bf-531e-4c94-a67f-bfcdde85010e"],"format":{"toggleable":true},"created_time":1674981134491,"last_edited_time":1674986310243,"parent_id":"2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"36dbfb92-5dd8-49b7-ae94-a2ab61cbe009":{"role":"reader","value":{"id":"36dbfb92-5dd8-49b7-ae94-a2ab61cbe009","version":4,"type":"text","created_time":1674986340466,"last_edited_time":1674986340467,"parent_id":"2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"c5802362-542c-4701-8f99-c8ebee93742a":{"role":"reader","value":{"id":"c5802362-542c-4701-8f99-c8ebee93742a","version":167,"type":"callout","properties":{"title":[["Declare const helps detect errors in compiling time."]]},"format":{"page_icon":"💡","block_color":"gray_background","copied_from_pointer":{"id":"cec5ee6b-0bfa-4d46-842b-eaa69553a6b5","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810286086,"last_edited_time":1674812104991,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"copied_from":"cec5ee6b-0bfa-4d46-842b-eaa69553a6b5","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"a0b75efa-86ca-4f75-99a5-a4f2a6c75257":{"role":"reader","value":{"id":"a0b75efa-86ca-4f75-99a5-a4f2a6c75257","version":17,"type":"callout","properties":{"title":[["It is important to understand that though compiler ensure bitwise const-ness but we should program with logical const-ness."]]},"format":{"page_icon":"💡","block_color":"gray_background","copied_from_pointer":{"id":"cec5ee6b-0bfa-4d46-842b-eaa69553a6b5","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810286086,"last_edited_time":1674812110257,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"copied_from":"cec5ee6b-0bfa-4d46-842b-eaa69553a6b5","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"6ecfe7db-94e0-4cfe-96ee-33e92794882c":{"role":"reader","value":{"id":"6ecfe7db-94e0-4cfe-96ee-33e92794882c","version":248,"type":"callout","properties":{"title":[["if const and non-const functions are identical, use non-const one to call const one."]]},"format":{"page_icon":"💡","block_color":"gray_background"},"created_time":1674811970466,"last_edited_time":1674812116841,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"6f78940c-846b-425b-bf23-ad48d1a499a6":{"role":"reader","value":{"id":"6f78940c-846b-425b-bf23-ad48d1a499a6","version":128,"type":"sub_sub_header","properties":{"title":[["Here is ALL about "],["const",[["c"]]]]},"content":["043c011e-bef8-47b0-9abe-196d9bbf8597","7d51aa3b-b063-4d03-9de2-e58fd5a5eb32","739e2015-05ed-4a43-aad3-13a5e736a864","66cf81a5-109f-4f89-a84f-411e82cbc8df"],"format":{"toggleable":true},"created_time":1674811459546,"last_edited_time":1674811724003,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"3819d164-c878-4478-82e2-a45c2fce31fd":{"role":"reader","value":{"id":"3819d164-c878-4478-82e2-a45c2fce31fd","version":7,"type":"text","properties":{"title":[["const can be applied to 1) "],["variables",[["b"]]],[", 2) "],["function parameters",[["b"]]],[", 3) "],["return types",[["b"]]],[" and 4) "],["member function",[["b"]]]]},"created_time":1674812075554,"last_edited_time":1674812076051,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"57d1bf8a-529c-4175-b779-b941379e5f3e":{"role":"reader","value":{"id":"57d1bf8a-529c-4175-b779-b941379e5f3e","version":221,"type":"text","properties":{"title":[["a very interesting case is the use of const for member function of operator:"]]},"created_time":1674811694512,"last_edited_time":1674811769339,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"2c5102aa-f45d-44ae-8d82-adab1dcd975c":{"role":"reader","value":{"id":"2c5102aa-f45d-44ae-8d82-adab1dcd975c","version":8,"type":"code","properties":{"title":[["class TextBlock {\n\npublic:\n\t// operator[] for const object\n\tconst char\u0026 operator[](const std::size_t position) const\n\t{return text[position];}\n\t// operator[] for non-const object\n\tchar\u0026 operator[](const std::size_t position)\n\t{return text[position];}\n\n}\n\nTextBlock tb(\"hello\");\nstd::cout \u003c\u003c tb[0]; // calls non-const TextBlock::operator[]\ntb[0] = 'x'; // ok\n\nTextBlock c_tb(\"hello\");\nstd::cout \u003c\u003c c_tb[0]; // calls const TextBlock::operator[]\nc_tb[0] = 'x' // error"]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"93b5a4c0-f7ca-49bd-b7d1-96b8efae4111","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810286086,"last_edited_time":1674811544546,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"copied_from":"93b5a4c0-f7ca-49bd-b7d1-96b8efae4111","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"1d3de8a5-7f76-4096-a70e-845b3e078bd4":{"role":"reader","value":{"id":"1d3de8a5-7f76-4096-a70e-845b3e078bd4","version":40,"type":"sub_sub_header","properties":{"title":[["Understanding bitwise const-ness vs. logical const-ness"]]},"format":{"copied_from_pointer":{"id":"65bd44c2-c3d0-4df8-9f89-b4e23e472305","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810286086,"last_edited_time":1674812134450,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"copied_from":"65bd44c2-c3d0-4df8-9f89-b4e23e472305","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"3668e6c7-f032-4e23-a30b-07f4e54f4a18":{"role":"reader","value":{"id":"3668e6c7-f032-4e23-a30b-07f4e54f4a18","version":22,"type":"text","properties":{"title":[["bitwise const-ness",[["b"]]],[": const member function doesn’t modify any object data members (exclude static)."]]},"format":{"copied_from_pointer":{"id":"82ecdbaf-c374-4c53-9450-876a9dcc72bf","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810286086,"last_edited_time":1674812149343,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"copied_from":"82ecdbaf-c374-4c53-9450-876a9dcc72bf","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"e50fe6e0-18ba-4778-a1d1-5a5fae1ad1a2":{"role":"reader","value":{"id":"e50fe6e0-18ba-4778-a1d1-5a5fae1ad1a2","version":201,"type":"text","properties":{"title":[["However this is not always true, some workaround may happen as below:"]]},"format":{"copied_from_pointer":{"id":"81dd39bf-0869-49ce-a659-430055998c9c","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810286086,"last_edited_time":1674812149343,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"copied_from":"81dd39bf-0869-49ce-a659-430055998c9c","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"924bbd07-be4a-4c8d-83e6-0695c13fd0f6":{"role":"reader","value":{"id":"924bbd07-be4a-4c8d-83e6-0695c13fd0f6","version":11,"type":"code","properties":{"title":[["class TextBlock {\n\npublic:\n\tchar\u0026 operator[](const std::size_t position) const\n\t{return pText[position];}\n\nprivate:\n\tchar *pText;\n}\n\nconst TextBlock tb(\"hello\");\nchar* p = \u0026tb[0];\n*p = \"J\"; // no error!!"]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"850706ad-6563-4346-953e-dd1ea689d835","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810286086,"last_edited_time":1674811227931,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"copied_from":"850706ad-6563-4346-953e-dd1ea689d835","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"afc16f96-1194-4eb9-8d59-f180793347ce":{"role":"reader","value":{"id":"afc16f96-1194-4eb9-8d59-f180793347ce","version":16,"type":"text","properties":{"title":[["logical const-ness",[["b"]]],[": const member function might modify some of the bits but only in ways that clients cannot detect."]]},"format":{"copied_from_pointer":{"id":"f916c53c-6e36-4ef8-84cc-cec906e9d2a2","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810286086,"last_edited_time":1674811251076,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"copied_from":"f916c53c-6e36-4ef8-84cc-cec906e9d2a2","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"6cd0cb87-5528-4e6b-91fc-79369750acde":{"role":"reader","value":{"id":"6cd0cb87-5528-4e6b-91fc-79369750acde","version":104,"type":"sub_sub_header","properties":{"title":[["Avoid Code Duplication for Const and Non-const Functions"]]},"format":{"copied_from_pointer":{"id":"b31b4d11-64f1-48c0-a5dc-24eb19f8fb8b","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810286086,"last_edited_time":1674812174758,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"copied_from":"b31b4d11-64f1-48c0-a5dc-24eb19f8fb8b","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"94f33b89-16ba-44b1-befb-4dccdb4a33d8":{"role":"reader","value":{"id":"94f33b89-16ba-44b1-befb-4dccdb4a33d8","version":8,"type":"code","properties":{"title":[["class TextBlock {\n\npublic:\n\t// operator[] for const object\n\tconst char\u0026 operator[](const std::size_t position) const\n\t\t\t{\n\t\t\t\t\t// lots of code\n\t\t\t\t\treturn text[position];\n\t\t\t}\n\t// operator[] for non-const object\n\tchar\u0026 operator[](const std::size_t position)\n\t\t\t{\n\t\t\t\t\t// duplication code\n\t\t\t\t\treturn text[position];\n\t\t\t}\n\n}\n\n// simplified version\nclass TextBlock {\n\npublic:\n\t// operator[] for const object\n\tconst char\u0026 operator[](const std::size_t position) const\n\t\t\t{\n\t\t\t\t\t// lots of code\n\t\t\t\t\treturn text[position];\n\t\t\t}\n\t// operator[] for non-const object\n\tchar\u0026 operator[](const std::size_t position)\n\t\t\t{\n\t\t\t\t\treturn const_cast\u003cchar\u0026\u003e(\n\t\t\t\t\t\t\t\t\t\tstatic_cast\u003cconst TextBlock\u0026\u003e(*this)[position]\n\t\t\t\t\t\t\t\t\t);\n\t\t\t}\n}"]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"a9219a42-f576-4f55-a37c-ca73f2a2c797","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810286086,"last_edited_time":1674811218592,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"copied_from":"a9219a42-f576-4f55-a37c-ca73f2a2c797","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"b552cb53-3b7d-4cf8-be3b-7bd20976edc1":{"role":"reader","value":{"id":"b552cb53-3b7d-4cf8-be3b-7bd20976edc1","version":5,"type":"text","format":{"copied_from_pointer":{"id":"34755c8b-92f6-40e5-a30f-57f4a0f34a02","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810286086,"last_edited_time":1674811215162,"parent_id":"ee219e4a-7e42-4be2-9092-f8b97fa60165","parent_table":"block","alive":true,"copied_from":"34755c8b-92f6-40e5-a30f-57f4a0f34a02","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"09056fb7-2ce9-49e5-b393-e4f30db240f1":{"role":"reader","value":{"id":"09056fb7-2ce9-49e5-b393-e4f30db240f1","version":110,"type":"callout","properties":{"title":[["manually init built-in type (otherwise the compiler will init it)"]]},"format":{"page_icon":"💡","block_color":"gray_background","copied_from_pointer":{"id":"0c8ea9e2-6b52-4119-8735-ea78042a53d1","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812199824,"parent_id":"33111872-a82e-4922-a502-6f9dd0ca67fc","parent_table":"block","alive":true,"copied_from":"0c8ea9e2-6b52-4119-8735-ea78042a53d1","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"999335af-038e-4f93-bd0a-da0e15935376":{"role":"reader","value":{"id":"999335af-038e-4f93-bd0a-da0e15935376","version":6,"type":"callout","properties":{"title":[["in constructor, prefer use "],["member initialization list",[["b"]]],[" than "],["assignment",[["b"]]]]},"format":{"page_icon":"💡","block_color":"gray_background","copied_from_pointer":{"id":"ecb0307b-578a-4ad5-a2f3-fad121428546","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812205606,"parent_id":"33111872-a82e-4922-a502-6f9dd0ca67fc","parent_table":"block","alive":true,"copied_from":"ecb0307b-578a-4ad5-a2f3-fad121428546","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"2f49fdcf-21b0-42aa-be89-0af46b22737e":{"role":"reader","value":{"id":"2f49fdcf-21b0-42aa-be89-0af46b22737e","version":19,"type":"callout","properties":{"title":[["avoid initialization order uncertainty by replacing "],["non-local static objects",[["b"]]],[" with"],[" local static objects",[["b"]]]]},"format":{"page_icon":"💡","block_color":"gray_background","copied_from_pointer":{"id":"b39c116d-d2d3-4372-98fb-5ca1583995fd","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812209557,"parent_id":"33111872-a82e-4922-a502-6f9dd0ca67fc","parent_table":"block","alive":true,"copied_from":"b39c116d-d2d3-4372-98fb-5ca1583995fd","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"0e8ba774-5d3d-467c-a7dc-3f1ba554ce09":{"role":"reader","value":{"id":"0e8ba774-5d3d-467c-a7dc-3f1ba554ce09","version":9,"type":"sub_sub_header","properties":{"title":[["Assignment v.s. Initialization"]]},"format":{"copied_from_pointer":{"id":"e955132a-b1d6-4ae5-97c0-f7b0d4a8131c","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812218046,"parent_id":"33111872-a82e-4922-a502-6f9dd0ca67fc","parent_table":"block","alive":true,"copied_from":"e955132a-b1d6-4ae5-97c0-f7b0d4a8131c","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"579e96f8-ea85-4c8d-991d-8dd5cf95a257":{"role":"reader","value":{"id":"579e96f8-ea85-4c8d-991d-8dd5cf95a257","version":7,"type":"code","properties":{"title":[["class Element {\npublic:\n\tElement(const std::string\u0026 name, const std::string\u0026 address,\n\t\t\t\t\t\t\t const std::list\u003cPhoneNumber\u003e\u0026 phone);\n\nprivate:\n\tstd::string theName;\n\tstd::string theAddress;\n\tstd::list\u003cPhoneNumber\u003e thePhones;\n\tint num;\n};\n\n// assignment\nElement::Element(const std::string\u0026 name, const std::string\u0026 address,\n\t\t\t\t\t\t\t const std::list\u003cPhoneNumber\u003e\u0026 phones) {\n\ttheName = name;\n\ttheAddress = address;\n\tthePhones = phones;\n\tnum = 0;\n}\n\n// initialization\nElement::Element(const std::string\u0026 name, const std::string\u0026 address,\n\t\t\t\t\t\t\t const std::list\u003cPhoneNumber\u003e\u0026 phones) : theName(name),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t theAddress(address),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t thePhones(phones),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t num(0)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t {}"]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"9bd33e68-aa36-4794-8370-c10a0b8b5c21","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812236415,"parent_id":"33111872-a82e-4922-a502-6f9dd0ca67fc","parent_table":"block","alive":true,"copied_from":"9bd33e68-aa36-4794-8370-c10a0b8b5c21","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"faf00bc4-a142-47de-a118-09a71b927d1f":{"role":"reader","value":{"id":"faf00bc4-a142-47de-a118-09a71b927d1f","version":4,"type":"bulleted_list","properties":{"title":[["initialization is "],["much more efficient",[["b"]]],[" than assignment"]]},"content":["ce104702-6820-4191-b9d5-714c4ba48e2d","f2961c0b-bc1c-4b66-914f-649d5f391007","7b361445-878c-460f-865b-edde2c8d8549","f0c348b0-2f4f-4ce4-a1d3-c0c491592a7a"],"format":{"copied_from_pointer":{"id":"1425d545-8cec-4666-8679-6e177e37d393","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812245264,"parent_id":"33111872-a82e-4922-a502-6f9dd0ca67fc","parent_table":"block","alive":true,"copied_from":"1425d545-8cec-4666-8679-6e177e37d393","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"dfe46446-2be3-42ec-bccd-ccf5eedec947":{"role":"reader","value":{"id":"dfe46446-2be3-42ec-bccd-ccf5eedec947","version":2,"type":"sub_sub_header","properties":{"title":[["Singelton Pattern: change non-local static object to local static"]]},"format":{"copied_from_pointer":{"id":"bc349c6a-728d-4305-9c82-49f78827d9f1","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674810265388,"parent_id":"33111872-a82e-4922-a502-6f9dd0ca67fc","parent_table":"block","alive":true,"copied_from":"bc349c6a-728d-4305-9c82-49f78827d9f1","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"53742ce0-9087-41bd-9ec5-37b1c5332947":{"role":"reader","value":{"id":"53742ce0-9087-41bd-9ec5-37b1c5332947","version":65,"type":"bulleted_list","properties":{"title":[["Reason: initialization order is non-deterministic"]]},"content":["b40df707-613b-45a8-bb71-98456c9af32f","ae77b9a7-1817-4d00-86ea-d27ffceba021","3948d092-285a-401b-a8a6-93b2d06615cb","f743faf0-8a79-4e0a-9fd6-b8808210f639","08c0f6a7-0737-42aa-a74f-f6c48930c8ff"],"format":{"copied_from_pointer":{"id":"dcb3a9ef-60dc-4c52-80bb-b201b2bbe383","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812453268,"parent_id":"33111872-a82e-4922-a502-6f9dd0ca67fc","parent_table":"block","alive":true,"copied_from":"dcb3a9ef-60dc-4c52-80bb-b201b2bbe383","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"6f560422-a7da-4bd4-a30d-1f776f090e39":{"role":"reader","value":{"id":"6f560422-a7da-4bd4-a30d-1f776f090e39","version":36,"type":"bulleted_list","properties":{"title":[["Solution: Singelton Pattern"]]},"content":["a46f050d-10f0-4ff1-b7de-9fe97b8334f5","47c83cd6-0cf5-4c52-adfc-aeee7261d9b5","9553b4c2-9f57-498d-a773-7c5136df6fe7","b266aa13-56f1-4697-be4e-242056960ab0"],"format":{"copied_from_pointer":{"id":"315214da-93d8-40a9-a77f-02c1924cb815","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812504857,"parent_id":"33111872-a82e-4922-a502-6f9dd0ca67fc","parent_table":"block","alive":true,"copied_from":"315214da-93d8-40a9-a77f-02c1924cb815","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"020f3b51-9da7-4357-bfb9-d66ac07ff1da":{"role":"reader","value":{"id":"020f3b51-9da7-4357-bfb9-d66ac07ff1da","version":131,"type":"callout","properties":{"title":[["compiler will automatically generate default constructor, copy constructor, copy assignment and destructor."]]},"format":{"page_icon":"💡","block_color":"gray_background"},"created_time":1674812781348,"last_edited_time":1674812890738,"parent_id":"4dd994b0-c3d0-4c35-8014-49741a7b37a8","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"2a447b09-6467-47f9-a781-37fe7bff134e":{"role":"reader","value":{"id":"2a447b09-6467-47f9-a781-37fe7bff134e","version":341,"type":"callout","properties":{"title":[["disallow one or more of them by declare them as private and give no implementation. a base class can help to disallow all derived classes."]]},"format":{"page_icon":"💡","block_color":"gray_background"},"created_time":1674812809358,"last_edited_time":1674812890738,"parent_id":"4dd994b0-c3d0-4c35-8014-49741a7b37a8","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"c31547cb-5453-47e8-9e73-d1388d7743f1":{"role":"reader","value":{"id":"c31547cb-5453-47e8-9e73-d1388d7743f1","version":2,"type":"sub_sub_header","properties":{"title":[["compiler generate functions"]]},"format":{"copied_from_pointer":{"id":"efda71ba-aaa2-42c3-8250-88f0abc63c5d","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265384,"last_edited_time":1674810265388,"parent_id":"4dd994b0-c3d0-4c35-8014-49741a7b37a8","parent_table":"block","alive":true,"copied_from":"efda71ba-aaa2-42c3-8250-88f0abc63c5d","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"39a5c76e-946c-458f-952a-43a059248a0d":{"role":"reader","value":{"id":"39a5c76e-946c-458f-952a-43a059248a0d","version":15,"type":"bulleted_list","properties":{"title":[["if not declared, compliers will declare them inline:"]]},"content":["da716061-d5a0-47c7-8049-e5cbf9af38ec","04e0893f-d4df-4d32-b111-5b2240efa27b","9488555f-e582-46ef-bfb9-9297bff6a855","8c92f8f0-ea8b-4a74-ac54-7a35be893d45"],"format":{"copied_from_pointer":{"id":"b856de6c-13be-436a-9914-c52c6319f13e","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265384,"last_edited_time":1674812666191,"parent_id":"4dd994b0-c3d0-4c35-8014-49741a7b37a8","parent_table":"block","alive":true,"copied_from":"b856de6c-13be-436a-9914-c52c6319f13e","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"f45292cf-d9e7-4a0b-a052-b1688e872a40":{"role":"reader","value":{"id":"f45292cf-d9e7-4a0b-a052-b1688e872a40","version":296,"type":"bulleted_list","properties":{"title":[["default constructor will not be generated if any constructor is declared. (not for copy constructor)."]]},"created_time":1674812635807,"last_edited_time":1674812709657,"parent_id":"4dd994b0-c3d0-4c35-8014-49741a7b37a8","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"8159b455-08bb-4e6f-8d04-8874708228d8":{"role":"reader","value":{"id":"8159b455-08bb-4e6f-8d04-8874708228d8","version":2,"type":"bulleted_list","properties":{"title":[["if compiler is not able to generate the code (for example, copy involve modify some const variable), then the compiler will refuse"]]},"format":{"copied_from_pointer":{"id":"f16d4423-5027-4f59-9a7c-717d6a31eb83","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265384,"last_edited_time":1674810265388,"parent_id":"4dd994b0-c3d0-4c35-8014-49741a7b37a8","parent_table":"block","alive":true,"copied_from":"f16d4423-5027-4f59-9a7c-717d6a31eb83","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"ce91169f-6ef7-4a9e-83b9-d9c011060908":{"role":"reader","value":{"id":"ce91169f-6ef7-4a9e-83b9-d9c011060908","version":2,"type":"sub_sub_header","properties":{"title":[["disallow compiler generate functions"]]},"format":{"copied_from_pointer":{"id":"71786554-d38b-4791-a655-88b0e24e3cd7","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265384,"last_edited_time":1674810265388,"parent_id":"4dd994b0-c3d0-4c35-8014-49741a7b37a8","parent_table":"block","alive":true,"copied_from":"71786554-d38b-4791-a655-88b0e24e3cd7","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"69f8cc1b-7904-4aeb-8d5b-3685c946f2bb":{"role":"reader","value":{"id":"69f8cc1b-7904-4aeb-8d5b-3685c946f2bb","version":2,"type":"bulleted_list","properties":{"title":[["declare function that you don’t want compiler to generate in private"]]},"format":{"copied_from_pointer":{"id":"b1664d5b-bee2-451e-8814-06045ca72661","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265384,"last_edited_time":1674810265388,"parent_id":"4dd994b0-c3d0-4c35-8014-49741a7b37a8","parent_table":"block","alive":true,"copied_from":"b1664d5b-bee2-451e-8814-06045ca72661","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"222f8263-ed2e-4373-b3b4-2ad05d89210d":{"role":"reader","value":{"id":"222f8263-ed2e-4373-b3b4-2ad05d89210d","version":4,"type":"bulleted_list","properties":{"title":[["you can even declare it in base class, then al subclass will not have this issue. This also ensure the compile time error detection."]]},"content":["8fccf660-3213-4751-bf67-b99c776de91b"],"format":{"copied_from_pointer":{"id":"71720293-d612-42f3-a725-a3ad19be2cb9","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265384,"last_edited_time":1674812747101,"parent_id":"4dd994b0-c3d0-4c35-8014-49741a7b37a8","parent_table":"block","alive":true,"copied_from":"71720293-d612-42f3-a725-a3ad19be2cb9","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"97cfb510-75e1-42a9-b925-b1808354e1aa":{"role":"reader","value":{"id":"97cfb510-75e1-42a9-b925-b1808354e1aa","version":105,"type":"callout","properties":{"title":[["polymorphic base classes should be declared virtual destructor"]]},"format":{"page_icon":"💡","block_color":"gray_background"},"created_time":1674939518435,"last_edited_time":1674939612529,"parent_id":"04c230f9-1039-4aaa-bc1c-b999d884bf09","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"5c20fb3e-298c-49c3-a786-1be364171625":{"role":"reader","value":{"id":"5c20fb3e-298c-49c3-a786-1be364171625","version":211,"type":"callout","properties":{"title":[["classes not designed to be base classes or polymorphic should not be declared virtual destructor"]]},"format":{"page_icon":"💡","block_color":"gray_background"},"created_time":1674939536139,"last_edited_time":1674939616692,"parent_id":"04c230f9-1039-4aaa-bc1c-b999d884bf09","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"41657b06-ce4f-4d39-a8fe-986a2e95a493":{"role":"reader","value":{"id":"41657b06-ce4f-4d39-a8fe-986a2e95a493","version":228,"type":"text","properties":{"title":[["For classes "],["Base",[["c"]]],[" and "],["Derived",[["c"]]],[", if both of them have their non-virtual destructor:"]]},"created_time":1674937919921,"last_edited_time":1674938114725,"parent_id":"04c230f9-1039-4aaa-bc1c-b999d884bf09","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"ca25ad93-2564-4fff-ac96-973f69ec5f55":{"role":"reader","value":{"id":"ca25ad93-2564-4fff-ac96-973f69ec5f55","version":486,"type":"text","properties":{"title":[["if we make a instance "],["Base* p = getDerived()",[["c"]]],[", and call "],["delete p",[["c"]]],[". The object being deleted is via a base class pointer. "]]},"created_time":1674937956138,"last_edited_time":1674938199540,"parent_id":"04c230f9-1039-4aaa-bc1c-b999d884bf09","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"70143f86-9655-4544-a51a-7902aa5a661c":{"role":"reader","value":{"id":"70143f86-9655-4544-a51a-7902aa5a661c","version":481,"type":"text","properties":{"title":[["Partially Destroy",[["b"]]],[": The c++ specifies when a derived class object is deleted through a pointer to a base class with a non-virtual destructor, results are undefined. What typically happen is that at runtime, derived part of` the object is never destroyed."]]},"created_time":1674938199538,"last_edited_time":1674946320311,"parent_id":"04c230f9-1039-4aaa-bc1c-b999d884bf09","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"8b88c8bc-3893-422a-9900-9af3d5accf12":{"role":"reader","value":{"id":"8b88c8bc-3893-422a-9900-9af3d5accf12","version":105,"type":"text","properties":{"title":[["Solution",[["b"]]],[": virtual destructor in base class."]]},"created_time":1674938571950,"last_edited_time":1674938591378,"parent_id":"04c230f9-1039-4aaa-bc1c-b999d884bf09","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"5ada3b36-b8f8-408f-8a46-54e29d05e610":{"role":"reader","value":{"id":"5ada3b36-b8f8-408f-8a46-54e29d05e610","version":518,"type":"text","properties":{"title":[["Summary",[["b"]]],[": 1) Declare a virtual destructor in a class if and only if that class contains at least one virtual function. 2) Never use class with non-virtual destructor as base (e.g. STL)."]]},"created_time":1674938625245,"last_edited_time":1674938831206,"parent_id":"04c230f9-1039-4aaa-bc1c-b999d884bf09","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"da047eef-66b1-496d-b766-43f3b6ecbd51":{"role":"reader","value":{"id":"da047eef-66b1-496d-b766-43f3b6ecbd51","version":377,"type":"text","properties":{"title":[["this is only apply to polymorphic base classes - "],["base classes designed to allow the manipulation of derived class type through base class interface",[["i"]]]]},"created_time":1674939443086,"last_edited_time":1674939510798,"parent_id":"04c230f9-1039-4aaa-bc1c-b999d884bf09","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"09fbe33a-a4b8-450b-938f-85ccc8a6ad50":{"role":"reader","value":{"id":"09fbe33a-a4b8-450b-938f-85ccc8a6ad50","version":5,"type":"text","properties":{"title":[[" "]]},"created_time":1674938700135,"last_edited_time":1674938700139,"parent_id":"04c230f9-1039-4aaa-bc1c-b999d884bf09","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"4fdfc8db-3ea5-4e0e-a767-7a0f0019ce35":{"role":"reader","value":{"id":"4fdfc8db-3ea5-4e0e-a767-7a0f0019ce35","version":5,"type":"text","created_time":1674812902119,"last_edited_time":1674812902120,"parent_id":"04c230f9-1039-4aaa-bc1c-b999d884bf09","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"36330d2f-3128-4c01-9865-b4e9d1588d05":{"role":"reader","value":{"id":"36330d2f-3128-4c01-9865-b4e9d1588d05","version":4,"type":"text","created_time":1674811046473,"last_edited_time":1674811046480,"parent_id":"04c230f9-1039-4aaa-bc1c-b999d884bf09","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"0ca2cf24-a9b9-452b-8c76-b7aec0ddeae5":{"role":"reader","value":{"id":"0ca2cf24-a9b9-452b-8c76-b7aec0ddeae5","version":94,"type":"callout","properties":{"title":[["Destructor should never emit exception!"]]},"format":{"page_icon":"💡","block_color":"gray_background"},"created_time":1674947675100,"last_edited_time":1674947784469,"parent_id":"010de754-76de-4d45-983d-50ab1ff23267","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"8b091cba-28b4-4a7a-bfb6-590904a08330":{"role":"reader","value":{"id":"8b091cba-28b4-4a7a-bfb6-590904a08330","version":358,"type":"callout","properties":{"title":[["If the class’s clients need to be able to react to the exception, provide a regular function to perform this operation."]]},"format":{"page_icon":"💡","block_color":"gray_background"},"created_time":1674947711601,"last_edited_time":1674947788401,"parent_id":"010de754-76de-4d45-983d-50ab1ff23267","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"62bbaf55-02b9-471e-89f9-96904b81045b":{"role":"reader","value":{"id":"62bbaf55-02b9-471e-89f9-96904b81045b","version":106,"type":"text","properties":{"title":[["A destructor may not fail. If a destructor tries to exit with an exception, it's a bad design error and the program had better terminate."]]},"created_time":1674946523768,"last_edited_time":1674946664459,"parent_id":"010de754-76de-4d45-983d-50ab1ff23267","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"5afe6143-df53-4895-a109-de71cb511931":{"role":"reader","value":{"id":"5afe6143-df53-4895-a109-de71cb511931","version":586,"type":"text","properties":{"title":[["It may lead to the situations that during destruction, multiple active exceptions are thrown. Two simultaneous active exception will cause program execution terminated or undefined behavior."]]},"created_time":1674946786753,"last_edited_time":1674947026128,"parent_id":"010de754-76de-4d45-983d-50ab1ff23267","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"d58e9c2b-b58f-4a1c-90e7-fef6a41d78bd":{"role":"reader","value":{"id":"d58e9c2b-b58f-4a1c-90e7-fef6a41d78bd","version":101,"type":"text","properties":{"title":[["There are two ways to handle it:"]]},"created_time":1674947028569,"last_edited_time":1674947050882,"parent_id":"010de754-76de-4d45-983d-50ab1ff23267","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"768f4002-0b97-42ae-b4c3-c63500cdfeb0":{"role":"reader","value":{"id":"768f4002-0b97-42ae-b4c3-c63500cdfeb0","version":56,"type":"bulleted_list","properties":{"title":[["Terminate the program"]]},"content":["2678b6cd-e9b2-43a4-9c44-7e618eece657"],"created_time":1674947051057,"last_edited_time":1674947065729,"parent_id":"010de754-76de-4d45-983d-50ab1ff23267","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"62af0b35-cf0b-4531-97e7-2c75cffee37d":{"role":"reader","value":{"id":"62af0b35-cf0b-4531-97e7-2c75cffee37d","version":67,"type":"bulleted_list","properties":{"title":[["Swallow the exception"]]},"content":["2619ceee-74dd-410f-927b-4a725018a175","f3d924f9-c989-4ebb-b85a-d5e2e7b32039","0d22df03-5eda-467d-8e72-1640c3fd1ab8"],"created_time":1674947015577,"last_edited_time":1674947417437,"parent_id":"010de754-76de-4d45-983d-50ab1ff23267","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"ea631973-e842-4207-b423-7e550676c69b":{"role":"reader","value":{"id":"ea631973-e842-4207-b423-7e550676c69b","version":75,"type":"bulleted_list","properties":{"title":[["A better strategy"]]},"content":["d6a32c5d-622e-41d2-9841-97f35af12cd6","f3deb740-f04e-4f8c-9f94-dfb4acf2c2a7"],"created_time":1674947413781,"last_edited_time":1674947606183,"parent_id":"010de754-76de-4d45-983d-50ab1ff23267","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"5a7d0ff0-c592-4383-8703-24ac855310f3":{"role":"reader","value":{"id":"5a7d0ff0-c592-4383-8703-24ac855310f3","version":4,"type":"text","created_time":1674947605318,"last_edited_time":1674947605319,"parent_id":"010de754-76de-4d45-983d-50ab1ff23267","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"11e35980-4a7d-42f3-9d60-0148f93e67fb":{"role":"reader","value":{"id":"11e35980-4a7d-42f3-9d60-0148f93e67fb","version":31,"type":"callout","properties":{"title":[["Don’t call virtual functions during construction or destruction, because such calls will never go to a more derived class than that of the currently executing constructor or destructor. ["],["This is something different from Java.",[["i"]]],["]"]]},"format":{"page_icon":"💡","block_color":"gray_background"},"created_time":1674979913069,"last_edited_time":1674979941962,"parent_id":"3ba1f4a8-19ee-45c2-afea-dbb43987c0d3","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"70f5b418-2f3d-44d3-bde0-0261bb084cd2":{"role":"reader","value":{"id":"70f5b418-2f3d-44d3-bde0-0261bb084cd2","version":569,"type":"code","properties":{"title":[["class Transaction {\npublic:\n\tTransaction();\n\tvirtual void logTransaction() const = 0;\n};\n\nTransaction::Transaction()\n{\n\t...\n\tlogTransaction();\n}\n\nclass BuyTransaction : pubic Transaction {\npublic:\n\tvirtual void logTransaction() const;\n\t...\n};\n\nclass SellTransaction : public Transaction {\npublic:\n\tvirtual void logTransaction() const;\n};"]],"language":[["C++"]]},"created_time":1674951874440,"last_edited_time":1674952075209,"parent_id":"3ba1f4a8-19ee-45c2-afea-dbb43987c0d3","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"f18fbe70-8916-4db2-b0ca-d558bf5bd5a7":{"role":"reader","value":{"id":"f18fbe70-8916-4db2-b0ca-d558bf5bd5a7","version":782,"type":"text","properties":{"title":[["When "],["BuyTransaction b;",[["c"]]],[" is executed, "],["BuyTransaction",[["c"]]],["’s constructor will be called. But before this, "],["Transaction",[["c"]]],["’s constructor will be called. This is because "],["base class parts of derived class object are constructed before derived class parts are",[["b"],["h","red"]]],[". As the last line of the base class constructor, the virtual "],["logTransaction",[["c"]]],[" will be called. This will cause undefined behavior."]]},"created_time":1674952086151,"last_edited_time":1674952618045,"parent_id":"3ba1f4a8-19ee-45c2-afea-dbb43987c0d3","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"89ac612b-8674-4fe4-b223-38eea9f66a74":{"role":"reader","value":{"id":"89ac612b-8674-4fe4-b223-38eea9f66a74","version":134,"type":"text","properties":{"title":[["During base class construction of a derived class object, the type of the object is that of the base class. Not only do virtual functions resolve to the base class, but the parts of the language using runtime type information (e.g., dynamic_cast and typeid) treat the object as a base class type. "],["An object doesn’t become a derived class object until execution of a derived class constructor begins.",[["b"]]]]},"created_time":1674952364198,"last_edited_time":1674953050700,"parent_id":"3ba1f4a8-19ee-45c2-afea-dbb43987c0d3","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"c2cf68c8-2d3c-43f1-b839-abcc01e7a0ae":{"role":"reader","value":{"id":"c2cf68c8-2d3c-43f1-b839-abcc01e7a0ae","version":23,"type":"text","properties":{"title":[["The same reasoning applies during destruction. Once a derived class destructor has run, the object’s derived class data members assume undefined values, so C++ treats them as if they no longer exist. Upon entry to the base class destructor, the object becomes a base class object, and all parts of C++ — virtual functions, dynamic_casts, etc., — treat it that way."]]},"created_time":1674953080046,"last_edited_time":1674953087558,"parent_id":"3ba1f4a8-19ee-45c2-afea-dbb43987c0d3","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"e4241012-e82d-4227-a2da-e9469ac8936c":{"role":"reader","value":{"id":"e4241012-e82d-4227-a2da-e9469ac8936c","version":31,"type":"text","properties":{"title":[["In this case, because logTransaction is pure virtual in Transaction, most runtime systems will abort the program when the pure virtual is called (typically issuing a message to that effect). However, if logTransaction were a “normal” virtual function (i.e., not pure virtual) with an implementation in Transaction, that version would be called, and the program would merrily trot along, leaving you to figure out why the wrong version of logTransaction was called when a derived class object was created."]]},"created_time":1674953090308,"last_edited_time":1674953210456,"parent_id":"3ba1f4a8-19ee-45c2-afea-dbb43987c0d3","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"97d59d03-2463-4c5f-86c0-c8a868643d0f":{"role":"reader","value":{"id":"97d59d03-2463-4c5f-86c0-c8a868643d0f","version":44,"type":"bulleted_list","properties":{"title":[["Solution",[["b"]]],[": Turn logTransaction into a non-virtual function in Transaction"]]},"created_time":1674953212848,"last_edited_time":1674979717180,"parent_id":"3ba1f4a8-19ee-45c2-afea-dbb43987c0d3","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"4559881b-9ddf-4845-81e9-b0b6b0f173b7":{"role":"reader","value":{"id":"4559881b-9ddf-4845-81e9-b0b6b0f173b7","version":153,"type":"code","properties":{"title":[["class Transaction {\npublic:\nexplicit Transaction(const std::string\u0026 logInfo);\nvoid logTransaction(const std::string\u0026 logInfo) const; // now a non-virtual fun\n};\n\nTransaction::Transaction(const std::string\u0026 logInfo)\n{\n\t...\n\tlogTransaction(logInfo); // now a non-virtual call\n}\n\nclass BuyTransaction: public Transaction\n{\npublic:\n\tBuyTransaction( parameters )\n\t: Transaction(createLogString( parameters )) // pass log info to base class constructor\n\t{ ... } \nprivate:\n\tstatic std::string createLogString( parameters );\n};"]],"language":[["C++"]]},"created_time":1674979435425,"last_edited_time":1674979766779,"parent_id":"3ba1f4a8-19ee-45c2-afea-dbb43987c0d3","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"59f709d9-932e-434a-a7ea-30b32b64338f":{"role":"reader","value":{"id":"59f709d9-932e-434a-a7ea-30b32b64338f","version":57,"type":"text","properties":{"title":[["This requires that derived class constructors pass the necessary log information to the Transaction constructor. That function can then safely call the non-virtual logTransaction."]]},"created_time":1674967225244,"last_edited_time":1674979785984,"parent_id":"3ba1f4a8-19ee-45c2-afea-dbb43987c0d3","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"15525c70-0820-4607-831b-b1a5c5e9a7aa":{"role":"reader","value":{"id":"15525c70-0820-4607-831b-b1a5c5e9a7aa","version":52,"type":"text","properties":{"title":[["By making the "],["createLogString",[["c"]]],[" function static, there’s no danger of accidentally referring to the nascent BuyTransaction object’s as-yet-uninitialized data members. That’s important, because the fact that those data members will be in an undefined state is why calling virtual functions during base class construction and destruction doesn’t go down into derived classes in the first place."]]},"created_time":1674979845022,"last_edited_time":1674979902972,"parent_id":"3ba1f4a8-19ee-45c2-afea-dbb43987c0d3","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"a29aa4ad-4b9e-4e55-9933-6e66abaeb940":{"role":"reader","value":{"id":"a29aa4ad-4b9e-4e55-9933-6e66abaeb940","version":17,"type":"callout","properties":{"title":[["Have assignment operators return a reference to *this."]]},"format":{"page_icon":"💡","block_color":"gray_background"},"created_time":1674981109880,"last_edited_time":1674981123006,"parent_id":"74309ee5-30f3-47a2-b4e4-f690ddd17cec","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"bb786640-9e3b-460e-a781-81707460f78a":{"role":"reader","value":{"id":"bb786640-9e3b-460e-a781-81707460f78a","version":62,"type":"bulleted_list","properties":{"title":[["how x=y=z=1 works?"]]},"created_time":1674980725203,"last_edited_time":1674980802719,"parent_id":"74309ee5-30f3-47a2-b4e4-f690ddd17cec","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"5b490826-15be-420b-a684-bb82844b1094":{"role":"reader","value":{"id":"5b490826-15be-420b-a684-bb82844b1094","version":170,"type":"bulleted_list","properties":{"title":[["it is convert to x=(y=(z=1)) and call the assignment operators"]]},"created_time":1674980800317,"last_edited_time":1674980857210,"parent_id":"74309ee5-30f3-47a2-b4e4-f690ddd17cec","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"304d8905-cc1b-4a9a-ab27-0053c2dd31ab":{"role":"reader","value":{"id":"304d8905-cc1b-4a9a-ab27-0053c2dd31ab","version":143,"type":"code","properties":{"title":[["class Widget {\npublic:\n\t...\n\tWidget\u0026 operator=(const Widget\u0026 rhs) // return type is a reference\n\t{                                    // to the current class\n\t...\n\treturn *this; // return the left-hand object\n\t}\n\t...\n};"]],"language":[["C++"]]},"created_time":1674980867440,"last_edited_time":1674980944440,"parent_id":"74309ee5-30f3-47a2-b4e4-f690ddd17cec","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"49383622-4d04-4e81-a1c0-904954ce4c65":{"role":"reader","value":{"id":"49383622-4d04-4e81-a1c0-904954ce4c65","version":49,"type":"bulleted_list","properties":{"title":[["This convention applies to all assignment operators, "]]},"content":["9ae08915-a47e-431f-9ef0-e9e10e8058d5","8ed8cfe1-5b18-4d84-92d4-4ea971b08a1a"],"created_time":1674980858038,"last_edited_time":1674981034135,"parent_id":"74309ee5-30f3-47a2-b4e4-f690ddd17cec","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"37627451-90ee-4c3e-9cfe-c79f40469483":{"role":"reader","value":{"id":"37627451-90ee-4c3e-9cfe-c79f40469483","version":47,"type":"bulleted_list","properties":{"title":[["This is only a convention; code that doesn’t follow it will compile. However, the convention is followed by all the built-in types as well as by all the types in the standard library. "],["Unless you have a good reason for doing things differently, don’t",[["b"],["h","red"]]],["."]]},"created_time":1674980957471,"last_edited_time":1674981104078,"parent_id":"74309ee5-30f3-47a2-b4e4-f690ddd17cec","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"a855be73-bbaf-4ceb-8951-6036795d7a17":{"role":"reader","value":{"id":"a855be73-bbaf-4ceb-8951-6036795d7a17","version":5,"type":"code","properties":{"language":[["C++"]]},"created_time":1674980959556,"last_edited_time":1674980959558,"parent_id":"74309ee5-30f3-47a2-b4e4-f690ddd17cec","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"697aff5a-4ad3-493e-af12-12ea825182b1":{"role":"reader","value":{"id":"697aff5a-4ad3-493e-af12-12ea825182b1","version":30,"type":"callout","properties":{"title":[["Make sure operator= is well-behaved when an object is assigned to itself."]]},"format":{"page_icon":"💡","block_color":"gray_background"},"created_time":1674986271899,"last_edited_time":1674986307837,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"8f9a99e7-3ab6-493c-af18-be78b3c014e4":{"role":"reader","value":{"id":"8f9a99e7-3ab6-493c-af18-be78b3c014e4","version":100,"type":"callout","properties":{"title":[["Make sure that any function operating on more than one object behaves correctly if two or more of the objects are the same."]]},"format":{"page_icon":"💡","block_color":"gray_background"},"created_time":1674985210206,"last_edited_time":1674986326454,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"50bee76a-b965-4580-9c77-ce29b9fb2241":{"role":"reader","value":{"id":"50bee76a-b965-4580-9c77-ce29b9fb2241","version":4,"type":"text","properties":{"title":[["your assignment operators will probably be self-assignment-safe without your having to think about it. Some cases:"]]},"created_time":1674985210206,"last_edited_time":1674986310243,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"d794442d-423e-4924-b37c-f03405722902":{"role":"reader","value":{"id":"d794442d-423e-4924-b37c-f03405722902","version":305,"type":"code","properties":{"title":[["x = x;\na[i] = a[j];\n*px = *py;\ndoSomething(const Base\u0026 a, Derive* b)"]],"language":[["C++"]]},"created_time":1674985271755,"last_edited_time":1674985379186,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"c71be272-abe7-4464-8328-e7f9e6020d6a":{"role":"reader","value":{"id":"c71be272-abe7-4464-8328-e7f9e6020d6a","version":27,"type":"text","properties":{"title":[["If you try to manage resources yourself, however (which you’d certainly have to do if you were writing a resource managing class), you can fall into the trap of "],["accidentally releasing a resource before you’re done using it",[["b"]]],["."]]},"created_time":1674985384272,"last_edited_time":1674985415297,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"68c70eba-618e-48d6-84df-c2321f90cf1d":{"role":"reader","value":{"id":"68c70eba-618e-48d6-84df-c2321f90cf1d","version":33,"type":"code","properties":{"title":[["Widget\u0026 Widget::operator=(const Widget\u0026 rhs) // unsafe impl. of operator=\n{\n\tdelete pb; // stop using current \n\tbitmappb = new Bitmap(*rhs.pb); // start using a copy of rhs’s bitmap\n\treturn *this;\n}"]],"language":[["C++"]]},"created_time":1674985417655,"last_edited_time":1674985466064,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"d4c77f83-6723-4ff5-a9bd-02236b57c238":{"role":"reader","value":{"id":"d4c77f83-6723-4ff5-a9bd-02236b57c238","version":51,"type":"bulleted_list","properties":{"title":[["Solution 1: identity test",[["b"]]]]},"created_time":1674985468072,"last_edited_time":1674985493006,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"50d4ba96-abf9-4b5d-9219-6a64efe20de8":{"role":"reader","value":{"id":"50d4ba96-abf9-4b5d-9219-6a64efe20de8","version":50,"type":"code","properties":{"title":[["Widget\u0026 Widget::operator=(const Widget\u0026 rhs)\n{\n\tif (this == \u0026rhs) return *this; // identity test: if a self-assignment, do nothing\n\tdelete pb;\n\tpb = new Bitmap(*rhs.pb);\n\treturn *this;\n}"]],"language":[["C++"]]},"format":{"code_wrap":false},"created_time":1674985495994,"last_edited_time":1674985594985,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"3072a684-e95b-4fae-964e-e165f23d56ae":{"role":"reader","value":{"id":"3072a684-e95b-4fae-964e-e165f23d56ae","version":120,"type":"text","properties":{"title":[["This works. However, the previous version of "],["operator=",[["c"]]],[" wasn’t just self-assignment-unsafe, it was also exception-unsafe, and this version continues to have exception trouble. In particular, if the “new Bitmap” expression yields an exception (either because there is insufficient memory for the allocation or because Bitmap’s copy constructor throws one), "],["the Widget will end up holding a pointer to a deleted Bitmap",[["b"],["h","red"]]],[". Such pointers are toxic. You can’t safely delete them. You can’t even safely read them. About the only safe thing you can do with them is spend lots of debugging energy figuring out where they came from."]]},"created_time":1674985493677,"last_edited_time":1674985696543,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"ddd97354-2974-45d3-963a-a69926127650":{"role":"reader","value":{"id":"ddd97354-2974-45d3-963a-a69926127650","version":88,"type":"bulleted_list","properties":{"title":[["Solution 2",[["b"]]],[": "],["self-assignment-unsafe and exception-safe",[["b"]]]]},"created_time":1674985739944,"last_edited_time":1674985763859,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"d54b0002-9b6d-4afa-ba2f-ae0da091bcba":{"role":"reader","value":{"id":"d54b0002-9b6d-4afa-ba2f-ae0da091bcba","version":29,"type":"code","properties":{"title":[["Widget\u0026 Widget::operator=(const Widget\u0026 rhs)\n{\n\tBitmap *pOrig = pb; // remember original pb\n\tpb = new Bitmap(*rhs.pb); // point pb to a copy of rhs’s bitmap\n\tdelete pOrig; // delete the original pb\n\treturn *this;\n}"]],"language":[["C++"]]},"format":{"code_wrap":false},"created_time":1674985737359,"last_edited_time":1674985791300,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"2c64e80f-de54-4327-ab9c-1cd3f828211f":{"role":"reader","value":{"id":"2c64e80f-de54-4327-ab9c-1cd3f828211f","version":28,"type":"text","properties":{"title":[["Now, if “new Bitmap” throws an exception, pb (and the Widget it’s inside of) remains unchanged."]]},"created_time":1674985700035,"last_edited_time":1674985961277,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"b7beccd1-7879-4661-bdc2-4e93f40cdc9b":{"role":"reader","value":{"id":"b7beccd1-7879-4661-bdc2-4e93f40cdc9b","version":122,"type":"bulleted_list","properties":{"title":[["Solution 3: Copy and Swap",[["b"]]]]},"created_time":1674985962709,"last_edited_time":1674986159396,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"fdf19a86-be6d-4562-badf-ebc87b623ba3":{"role":"reader","value":{"id":"fdf19a86-be6d-4562-badf-ebc87b623ba3","version":63,"type":"code","properties":{"title":[["class Widget {\n\t...\n\tvoid swap(Widget\u0026 rhs); // exchange *this’s and rhs’s data\n\t...\n};\n\nWidget\u0026 Widget::operator=(const Widget\u0026 rhs)\n{\n\tWidget temp(rhs); // make a copy of rhs’s data\n\tswap(temp); // swap *this’s data with the copy’s\n\treturn *this;\n}"]],"language":[["C++"]]},"format":{"code_wrap":false},"created_time":1674985978833,"last_edited_time":1674986069975,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"78bfc161-fda7-4a9b-9a9d-f7d9555981b0":{"role":"reader","value":{"id":"78bfc161-fda7-4a9b-9a9d-f7d9555981b0","version":80,"type":"text","properties":{"title":[["this can be cleaner as:"]]},"created_time":1674986160873,"last_edited_time":1674986177143,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"ca4172ee-c32e-4624-9525-02dd0f01338e":{"role":"reader","value":{"id":"ca4172ee-c32e-4624-9525-02dd0f01338e","version":98,"type":"code","properties":{"title":[["Widget\u0026 Widget::operator=(Widget rhs) // rhs is a copy of the object\n{                                     // passed in — note pass by vals\n\twap(rhs); // swap *this’s data with the copy’s\n\treturn *this;\n}"]],"language":[["C++"]]},"format":{"code_wrap":false},"created_time":1674986178856,"last_edited_time":1674986213956,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"bc1110bf-531e-4c94-a67f-bfcdde85010e":{"role":"reader","value":{"id":"bc1110bf-531e-4c94-a67f-bfcdde85010e","version":4,"type":"text","created_time":1674986216443,"last_edited_time":1674986216444,"parent_id":"ab413eec-efeb-4984-9ac3-e92f9ffbd66d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"043c011e-bef8-47b0-9abe-196d9bbf8597":{"role":"reader","value":{"id":"043c011e-bef8-47b0-9abe-196d9bbf8597","version":6,"type":"sub_sub_header","properties":{"title":[["Const Variable"]]},"content":["b7b89b2f-e8d7-4d75-be73-3b69b8dbdce2"],"format":{"toggleable":true,"copied_from_pointer":{"id":"d6bf0e57-55e4-4cb7-b8dd-4479668da754","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534593,"last_edited_time":1674811538446,"parent_id":"6f78940c-846b-425b-bf23-ad48d1a499a6","parent_table":"block","alive":true,"copied_from":"d6bf0e57-55e4-4cb7-b8dd-4479668da754","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"7d51aa3b-b063-4d03-9de2-e58fd5a5eb32":{"role":"reader","value":{"id":"7d51aa3b-b063-4d03-9de2-e58fd5a5eb32","version":6,"type":"sub_sub_header","properties":{"title":[["Const Keyword With Pointer Variables"]]},"content":["c681f162-7068-468d-919b-a21d1313b91a","69d9c7cf-4cbb-4338-8bea-373da1cabf4e","d5c5be41-9fe9-4e92-8e5d-5be99462446c","32ac90b8-aa9b-4037-bb84-3bdab60e7460","c9d65020-1c7b-4216-8751-0249152ac34c","377b332d-f0a6-4762-b03f-a2bc95b6f219","878869e6-88ef-494d-a0df-d10e668fc656","b56a1340-5f7d-4555-b6d4-a67863d0c291"],"format":{"toggleable":true,"copied_from_pointer":{"id":"d77eeb38-2d1e-4d29-8a62-c6a659180602","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534593,"last_edited_time":1674811538446,"parent_id":"6f78940c-846b-425b-bf23-ad48d1a499a6","parent_table":"block","alive":true,"copied_from":"d77eeb38-2d1e-4d29-8a62-c6a659180602","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"739e2015-05ed-4a43-aad3-13a5e736a864":{"role":"reader","value":{"id":"739e2015-05ed-4a43-aad3-13a5e736a864","version":6,"type":"sub_sub_header","properties":{"title":[["Const Methods"]]},"content":["fdb77f51-c19e-4445-8949-9292553485b2","0810fb79-1930-49ed-8ec0-1714e15f4efc","bf04f6a0-c908-483d-909c-092657a12bbd","b98606a2-bb33-4959-b8be-4a52e24380fa","84b46c4b-4268-43ce-a696-5bc15e5f6c06"],"format":{"toggleable":true,"copied_from_pointer":{"id":"7c9fe111-095c-4596-acb3-c6b23eb63388","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534593,"last_edited_time":1674811538446,"parent_id":"6f78940c-846b-425b-bf23-ad48d1a499a6","parent_table":"block","alive":true,"copied_from":"7c9fe111-095c-4596-acb3-c6b23eb63388","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"66cf81a5-109f-4f89-a84f-411e82cbc8df":{"role":"reader","value":{"id":"66cf81a5-109f-4f89-a84f-411e82cbc8df","version":7,"type":"sub_sub_header","properties":{"title":[["Constant Function Parameters And Return Type:",[["b"],["b"]]]]},"format":{"toggleable":true,"copied_from_pointer":{"id":"54b74560-705c-4b09-a0fd-dfc320dc4792","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534593,"last_edited_time":1674811538446,"parent_id":"6f78940c-846b-425b-bf23-ad48d1a499a6","parent_table":"block","alive":true,"copied_from":"54b74560-705c-4b09-a0fd-dfc320dc4792","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"ce104702-6820-4191-b9d5-714c4ba48e2d":{"role":"reader","value":{"id":"ce104702-6820-4191-b9d5-714c4ba48e2d","version":2,"type":"bulleted_list","properties":{"title":[["in c++, data members of an object are initialized before the body of a constructor is entered."]]},"format":{"copied_from_pointer":{"id":"9fcd6165-8746-4569-8f92-5d744b82f092","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674810265388,"parent_id":"faf00bc4-a142-47de-a118-09a71b927d1f","parent_table":"block","alive":true,"copied_from":"9fcd6165-8746-4569-8f92-5d744b82f092","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"f2961c0b-bc1c-4b66-914f-649d5f391007":{"role":"reader","value":{"id":"f2961c0b-bc1c-4b66-914f-649d5f391007","version":4,"type":"bulleted_list","properties":{"title":[["assignment version",[["_"]]],[": call default constructor of data numbers (wasteful operations), then enter the object constructor to assign."]]},"format":{"copied_from_pointer":{"id":"1794d777-11e0-4a8b-b9c0-6ea51d644ebd","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812255479,"parent_id":"faf00bc4-a142-47de-a118-09a71b927d1f","parent_table":"block","alive":true,"copied_from":"1794d777-11e0-4a8b-b9c0-6ea51d644ebd","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"7b361445-878c-460f-865b-edde2c8d8549":{"role":"reader","value":{"id":"7b361445-878c-460f-865b-edde2c8d8549","version":4,"type":"bulleted_list","properties":{"title":[["initialization version",[["_"]]],[": directly call constructor of data numbers with arguments"]]},"format":{"copied_from_pointer":{"id":"41a8d9ae-019d-425f-8541-eb8541f2b6a5","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812258344,"parent_id":"faf00bc4-a142-47de-a118-09a71b927d1f","parent_table":"block","alive":true,"copied_from":"41a8d9ae-019d-425f-8541-eb8541f2b6a5","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"f0c348b0-2f4f-4ce4-a1d3-c0c491592a7a":{"role":"reader","value":{"id":"f0c348b0-2f4f-4ce4-a1d3-c0c491592a7a","version":137,"type":"bulleted_list","properties":{"title":[["exception: built-in type is not guaranteed to be init before assignment"]]},"format":{"copied_from_pointer":{"id":"aa70334d-a147-4172-8e71-fdd465640ec8","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812351281,"parent_id":"faf00bc4-a142-47de-a118-09a71b927d1f","parent_table":"block","alive":true,"copied_from":"aa70334d-a147-4172-8e71-fdd465640ec8","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"b40df707-613b-45a8-bb71-98456c9af32f":{"role":"reader","value":{"id":"b40df707-613b-45a8-bb71-98456c9af32f","version":18,"type":"text","properties":{"title":[["for the case below:"]]},"created_time":1674812445944,"last_edited_time":1674812447359,"parent_id":"53742ce0-9087-41bd-9ec5-37b1c5332947","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"ae77b9a7-1817-4d00-86ea-d27ffceba021":{"role":"reader","value":{"id":"ae77b9a7-1817-4d00-86ea-d27ffceba021","version":27,"type":"code","properties":{"title":[["// in file A\nclass FileSystem {\npublic:\n\tstd::size_t numDisks() const;\n};\nextern FileSystem tfs; // global static object\n\n// in file B\nclass Directory {\npublic:\n\tDirectory(params);\n};\nDirectory::Directory(params) {\n\tstd::size_t disks = tfs.numDisks();\n}\nDirectory tempDir(params); // static tempDir cannot be initlized before tfs."]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"29cbb8cb-d381-4619-b2f4-bea16699770a","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812542942,"parent_id":"53742ce0-9087-41bd-9ec5-37b1c5332947","parent_table":"block","alive":true,"copied_from":"29cbb8cb-d381-4619-b2f4-bea16699770a","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"3948d092-285a-401b-a8a6-93b2d06615cb":{"role":"reader","value":{"id":"3948d092-285a-401b-a8a6-93b2d06615cb","version":13,"type":"bulleted_list","properties":{"title":[["non-local static object "],["tfs",[["c"]]],[" in file A → compiled"]]},"format":{"copied_from_pointer":{"id":"950893da-4099-4f59-b95a-0e26e45abc65","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812534771,"parent_id":"53742ce0-9087-41bd-9ec5-37b1c5332947","parent_table":"block","alive":true,"copied_from":"950893da-4099-4f59-b95a-0e26e45abc65","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"f743faf0-8a79-4e0a-9fd6-b8808210f639":{"role":"reader","value":{"id":"f743faf0-8a79-4e0a-9fd6-b8808210f639","version":18,"type":"bulleted_list","properties":{"title":[["another non-local static object "],["tempDir",[["c"]]],[" in file B, which uses "],["tfs",[["c"]]],[" → compiled"]]},"format":{"copied_from_pointer":{"id":"cc632fa6-28b8-49bd-a14e-904a3117cc24","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812566038,"parent_id":"53742ce0-9087-41bd-9ec5-37b1c5332947","parent_table":"block","alive":true,"copied_from":"cc632fa6-28b8-49bd-a14e-904a3117cc24","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"08c0f6a7-0737-42aa-a74f-f6c48930c8ff":{"role":"reader","value":{"id":"08c0f6a7-0737-42aa-a74f-f6c48930c8ff","version":19,"type":"bulleted_list","properties":{"title":[["in initialization process, the initialization order of A and B are non-deterministic. And it is possible that when initialize "],["tempDir",[["c"]]],[", "],["tfs",[["c"]]],[" is not initialized."]]},"format":{"copied_from_pointer":{"id":"d43c6b4f-6c58-4758-b089-e89bd6b832b1","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812574161,"parent_id":"53742ce0-9087-41bd-9ec5-37b1c5332947","parent_table":"block","alive":true,"copied_from":"d43c6b4f-6c58-4758-b089-e89bd6b832b1","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"a46f050d-10f0-4ff1-b7de-9fe97b8334f5":{"role":"reader","value":{"id":"a46f050d-10f0-4ff1-b7de-9fe97b8334f5","version":7,"type":"code","properties":{"title":[["class FileSystem {...};\nFileSystem\u0026 tfs() {\n\tstatic FileSystem fs; // now it is local static object\n\treturn fs;\n}\n\nclass Directory{...};\nDirectory\u0026 tempDir() {\n\tstatic Directory dir(params); // now it is local static object\n\treturn dir;\n}"]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"c6cf875e-bce8-4d77-b18f-1a2e34cb7854","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812588402,"parent_id":"6f560422-a7da-4bd4-a30d-1f776f090e39","parent_table":"block","alive":true,"copied_from":"c6cf875e-bce8-4d77-b18f-1a2e34cb7854","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"47c83cd6-0cf5-4c52-adfc-aeee7261d9b5":{"role":"reader","value":{"id":"47c83cd6-0cf5-4c52-adfc-aeee7261d9b5","version":150,"type":"bulleted_list","properties":{"title":[["This ensure that the "],["fs",[["c"]]],[" is init before the init of "],["dir",[["c"]]],["."]]},"format":{"copied_from_pointer":{"id":"b92d8fed-d391-4df3-a427-a86bbc5be895","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812516022,"parent_id":"6f560422-a7da-4bd4-a30d-1f776f090e39","parent_table":"block","alive":true,"copied_from":"b92d8fed-d391-4df3-a427-a86bbc5be895","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"9553b4c2-9f57-498d-a773-7c5136df6fe7":{"role":"reader","value":{"id":"9553b4c2-9f57-498d-a773-7c5136df6fe7","version":4,"type":"bulleted_list","properties":{"title":[["good for inline if it is called frequently"]]},"format":{"copied_from_pointer":{"id":"b92d8fed-d391-4df3-a427-a86bbc5be895","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812429065,"parent_id":"6f560422-a7da-4bd4-a30d-1f776f090e39","parent_table":"block","alive":true,"copied_from":"b92d8fed-d391-4df3-a427-a86bbc5be895","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"b266aa13-56f1-4697-be4e-242056960ab0":{"role":"reader","value":{"id":"b266aa13-56f1-4697-be4e-242056960ab0","version":34,"type":"bulleted_list","properties":{"title":[["However, it is not able to handle multi-thread env"]]},"format":{"copied_from_pointer":{"id":"04043ba3-15be-4d27-9321-cbac9765a982","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265383,"last_edited_time":1674812505738,"parent_id":"6f560422-a7da-4bd4-a30d-1f776f090e39","parent_table":"block","alive":true,"copied_from":"04043ba3-15be-4d27-9321-cbac9765a982","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"da716061-d5a0-47c7-8049-e5cbf9af38ec":{"role":"reader","value":{"id":"da716061-d5a0-47c7-8049-e5cbf9af38ec","version":52,"type":"bulleted_list","properties":{"title":[["default constructor"]]},"created_time":1674812665840,"last_edited_time":1674812669996,"parent_id":"39a5c76e-946c-458f-952a-43a059248a0d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"04e0893f-d4df-4d32-b111-5b2240efa27b":{"role":"reader","value":{"id":"04e0893f-d4df-4d32-b111-5b2240efa27b","version":8,"type":"bulleted_list","properties":{"title":[["copy constructor"]]},"format":{"copied_from_pointer":{"id":"87732d54-5e7d-445c-9290-0f157df28014","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265384,"last_edited_time":1674812666191,"parent_id":"39a5c76e-946c-458f-952a-43a059248a0d","parent_table":"block","alive":true,"copied_from":"87732d54-5e7d-445c-9290-0f157df28014","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"9488555f-e582-46ef-bfb9-9297bff6a855":{"role":"reader","value":{"id":"9488555f-e582-46ef-bfb9-9297bff6a855","version":8,"type":"bulleted_list","properties":{"title":[["copy assignment"]]},"format":{"copied_from_pointer":{"id":"495c33e3-d53e-4f25-a2a1-968a5b8a612b","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265384,"last_edited_time":1674812666191,"parent_id":"39a5c76e-946c-458f-952a-43a059248a0d","parent_table":"block","alive":true,"copied_from":"495c33e3-d53e-4f25-a2a1-968a5b8a612b","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"8c92f8f0-ea8b-4a74-ac54-7a35be893d45":{"role":"reader","value":{"id":"8c92f8f0-ea8b-4a74-ac54-7a35be893d45","version":8,"type":"bulleted_list","properties":{"title":[["destructor"]]},"format":{"copied_from_pointer":{"id":"d7c33d94-32cf-42a5-88bb-b818758ad1ae","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265384,"last_edited_time":1674812666191,"parent_id":"39a5c76e-946c-458f-952a-43a059248a0d","parent_table":"block","alive":true,"copied_from":"d7c33d94-32cf-42a5-88bb-b818758ad1ae","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"8fccf660-3213-4751-bf67-b99c776de91b":{"role":"reader","value":{"id":"8fccf660-3213-4751-bf67-b99c776de91b","version":4,"type":"code","properties":{"title":[["class Uncopyable {\nprotected:\n\tUncopyable(){}; // allow construction and destruction\n\t~Uncopyable(){};\nprivate:\n\tUncopyable(const Uncopyable\u0026); // prevent copying\n\tUncopyable\u0026 operator=(const Uncopyable\u0026);\n};\n\n// \nclass Element: private Uncopyable {\n\t...\n};"]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"b411cff5-b5c2-4725-858c-56cefec2ebd9","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674810265384,"last_edited_time":1674812747934,"parent_id":"222f8263-ed2e-4373-b3b4-2ad05d89210d","parent_table":"block","alive":true,"copied_from":"b411cff5-b5c2-4725-858c-56cefec2ebd9","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"2678b6cd-e9b2-43a4-9c44-7e618eece657":{"role":"reader","value":{"id":"2678b6cd-e9b2-43a4-9c44-7e618eece657","version":278,"type":"code","properties":{"title":[["DBConn::~DBConn()\n{\n\ttry { db.close() }\n\tcatch (...) {\n\t\t// make log entry that the call to close failed\n\t\tstd::abort();\n\t}\n}"]],"language":[["C++"]]},"created_time":1674947062810,"last_edited_time":1674947128440,"parent_id":"768f4002-0b97-42ae-b4c3-c63500cdfeb0","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"2619ceee-74dd-410f-927b-4a725018a175":{"role":"reader","value":{"id":"2619ceee-74dd-410f-927b-4a725018a175","version":12,"type":"code","properties":{"title":[["DBConn::~DBConn()\n{\n\ttry { db.close() }\n\tcatch (...) {\n\t\t// make log entry that the call to close failed\n\t}\n}"]],"language":[["C++"]]},"created_time":1674947168915,"last_edited_time":1674947182946,"parent_id":"62af0b35-cf0b-4531-97e7-2c75cffee37d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"f3d924f9-c989-4ebb-b85a-d5e2e7b32039":{"role":"reader","value":{"id":"f3d924f9-c989-4ebb-b85a-d5e2e7b32039","version":187,"type":"text","properties":{"title":[["in general, this is a bad idea. It suppresses important information - failure."]]},"created_time":1674947166952,"last_edited_time":1674947227351,"parent_id":"62af0b35-cf0b-4531-97e7-2c75cffee37d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"0d22df03-5eda-467d-8e72-1640c3fd1ab8":{"role":"reader","value":{"id":"0d22df03-5eda-467d-8e72-1640c3fd1ab8","version":77,"type":"text","properties":{"title":[["but sometimes may useful"]]},"created_time":1674947406131,"last_edited_time":1674947427302,"parent_id":"62af0b35-cf0b-4531-97e7-2c75cffee37d","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"d6a32c5d-622e-41d2-9841-97f35af12cd6":{"role":"reader","value":{"id":"d6a32c5d-622e-41d2-9841-97f35af12cd6","version":533,"type":"code","properties":{"title":[["calss DBConn {\npublic:\n\tvoid close()\n\t{\n\t\tdb.close();\n\t\tclosed = true;\n\t}\n\t~DBConn()\n\t{\n\t\tif (!closed) {\n\t\t\ttry {\n\t\t\t\tdb.close();\n\t\t\t}\n\t\t\tcatch(...) {\n\t\t\t\t// goes back to termination or swallow\n\t\t\t}\n\t\t}\n\t}\nprivate:\n\tDBConnection db;\n\tbool closed;\n}"]],"language":[["C++"]]},"created_time":1674947464407,"last_edited_time":1674947588908,"parent_id":"ea631973-e842-4207-b423-7e550676c69b","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"f3deb740-f04e-4f8c-9f94-dfb4acf2c2a7":{"role":"reader","value":{"id":"f3deb740-f04e-4f8c-9f94-dfb4acf2c2a7","version":224,"type":"text","properties":{"title":[["the advantage of this one is to move responsibility of close from destructor to client."]]},"created_time":1674947461388,"last_edited_time":1674947630718,"parent_id":"ea631973-e842-4207-b423-7e550676c69b","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"9ae08915-a47e-431f-9ef0-e9e10e8058d5":{"role":"reader","value":{"id":"9ae08915-a47e-431f-9ef0-e9e10e8058d5","version":57,"type":"bulleted_list","properties":{"title":[["eg. +=, -=, *= etc: "],["Widget\u0026 operator+=(const Widget\u0026 rhs)",[["c"]]]]},"created_time":1674981011836,"last_edited_time":1674981063041,"parent_id":"49383622-4d04-4e81-a1c0-904954ce4c65","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"8ed8cfe1-5b18-4d84-92d4-4ea971b08a1a":{"role":"reader","value":{"id":"8ed8cfe1-5b18-4d84-92d4-4ea971b08a1a","version":65,"type":"bulleted_list","properties":{"title":[["eg. other parameter types: "],["Widget\u0026 operator=(int rhs)",[["c"]]]]},"created_time":1674981034130,"last_edited_time":1674981058767,"parent_id":"49383622-4d04-4e81-a1c0-904954ce4c65","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"b7b89b2f-e8d7-4d75-be73-3b69b8dbdce2":{"role":"reader","value":{"id":"b7b89b2f-e8d7-4d75-be73-3b69b8dbdce2","version":2,"type":"code","properties":{"title":[["const int var; // error\n\nconst int var; // error\nvar = 9;\n\nconst int var.= 9; // ok"]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"b6fb4c7c-768e-4a33-9329-32dafb3b8722","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"043c011e-bef8-47b0-9abe-196d9bbf8597","parent_table":"block","alive":true,"copied_from":"b6fb4c7c-768e-4a33-9329-32dafb3b8722","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"c681f162-7068-468d-919b-a21d1313b91a":{"role":"reader","value":{"id":"c681f162-7068-468d-919b-a21d1313b91a","version":2,"type":"bulleted_list","properties":{"title":[["When the pointer variable point to a const value"]]},"format":{"copied_from_pointer":{"id":"92b723b3-90c8-41cd-9f2d-dbf4477581b2","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"7d51aa3b-b063-4d03-9de2-e58fd5a5eb32","parent_table":"block","alive":true,"copied_from":"92b723b3-90c8-41cd-9f2d-dbf4477581b2","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"69d9c7cf-4cbb-4338-8bea-373da1cabf4e":{"role":"reader","value":{"id":"69d9c7cf-4cbb-4338-8bea-373da1cabf4e","version":2,"type":"code","properties":{"title":[["int x{ 10 };\n\nconst int* i = \u0026x;\n\n// Value of x and y can be altered,\n// they are not constant variables\nx = 9;\n\n// CTE: Cannot change constant values because,\n// i and j are pointing to const-int\n// \u0026 const-char type value\n// error: read-only variable is not assignable\n*i = 6;"]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"b69daf31-3fbe-410f-aeeb-9a402c17f613","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"7d51aa3b-b063-4d03-9de2-e58fd5a5eb32","parent_table":"block","alive":true,"copied_from":"b69daf31-3fbe-410f-aeeb-9a402c17f613","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"d5c5be41-9fe9-4e92-8e5d-5be99462446c":{"role":"reader","value":{"id":"d5c5be41-9fe9-4e92-8e5d-5be99462446c","version":2,"type":"bulleted_list","properties":{"title":[["When the const pointer variable point to the value"]]},"format":{"copied_from_pointer":{"id":"c4d679b2-2e83-4d0a-9426-009b260ece19","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"7d51aa3b-b063-4d03-9de2-e58fd5a5eb32","parent_table":"block","alive":true,"copied_from":"c4d679b2-2e83-4d0a-9426-009b260ece19","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"32ac90b8-aa9b-4037-bb84-3bdab60e7460":{"role":"reader","value":{"id":"32ac90b8-aa9b-4037-bb84-3bdab60e7460","version":2,"type":"code","properties":{"title":[["// x and y non-const var\nint x{ 9 };\nint y{ 8 };\n\nint* const i = \u0026x;\n\n// The values that is stored at the memory location\n// can be modified even if we modify it through the\n// pointer itself. No CTE error\n*i = 10;\n\n// CTE because pointer variable\n// is const type so the address\n// pointed by the pointer variables\n// can't be changed\ni = \u0026y;"]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"b97847dc-6aa2-470a-972f-9488bf6d992d","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"7d51aa3b-b063-4d03-9de2-e58fd5a5eb32","parent_table":"block","alive":true,"copied_from":"b97847dc-6aa2-470a-972f-9488bf6d992d","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"c9d65020-1c7b-4216-8751-0249152ac34c":{"role":"reader","value":{"id":"c9d65020-1c7b-4216-8751-0249152ac34c","version":2,"type":"bulleted_list","properties":{"title":[["When const pointer pointing to a const variable"]]},"format":{"copied_from_pointer":{"id":"617fa68c-aa8b-4ddf-9765-d0af25d74187","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"7d51aa3b-b063-4d03-9de2-e58fd5a5eb32","parent_table":"block","alive":true,"copied_from":"617fa68c-aa8b-4ddf-9765-d0af25d74187","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"377b332d-f0a6-4762-b03f-a2bc95b6f219":{"role":"reader","value":{"id":"377b332d-f0a6-4762-b03f-a2bc95b6f219","version":2,"type":"code","properties":{"title":[["int x{ 9 };\nint y{ 8 };\nconst int* const i = \u0026x;\n\n// CTE: Once Ptr(*i) value is\n// assigned, later it can't\n// be modified(Error)\n*i=10;\n\n// CTE: because pointer variable\n// is const type so the address\n// pointed by the pointer variables\n// can't be changed\ni = \u0026y;"]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"5fa1d2df-d855-4f03-98e5-c6b548901a56","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"7d51aa3b-b063-4d03-9de2-e58fd5a5eb32","parent_table":"block","alive":true,"copied_from":"5fa1d2df-d855-4f03-98e5-c6b548901a56","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"878869e6-88ef-494d-a0df-d10e668fc656":{"role":"reader","value":{"id":"878869e6-88ef-494d-a0df-d10e668fc656","version":2,"type":"bulleted_list","properties":{"title":[["Pass const-argument value to a non-const parameter of a function cause error"]]},"format":{"copied_from_pointer":{"id":"11316b8f-dc02-4fe6-a743-454a673b1a8d","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"7d51aa3b-b063-4d03-9de2-e58fd5a5eb32","parent_table":"block","alive":true,"copied_from":"11316b8f-dc02-4fe6-a743-454a673b1a8d","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"b56a1340-5f7d-4555-b6d4-a67863d0c291":{"role":"reader","value":{"id":"b56a1340-5f7d-4555-b6d4-a67863d0c291","version":2,"type":"code","properties":{"title":[["int foo(int* y)\n{\n    return *y;\n}\n \nint main()\n{\n    int z = 8;\n    const int* x = \u0026z;\n    cout \u003c\u003c foo(x); //CTE: invalid conversion\n    return 0;\n}"]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"69df66dc-1009-4611-98db-3d9f684d060e","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"7d51aa3b-b063-4d03-9de2-e58fd5a5eb32","parent_table":"block","alive":true,"copied_from":"69df66dc-1009-4611-98db-3d9f684d060e","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"fdb77f51-c19e-4445-8949-9292553485b2":{"role":"reader","value":{"id":"fdb77f51-c19e-4445-8949-9292553485b2","version":2,"type":"code","properties":{"title":[["// A const member function of the class\nclass\n{\n   void foo() const\n   {\n       //.....\n   }\n}"]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"3abe17e8-9294-4a1c-99eb-a5e891491a91","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"739e2015-05ed-4a43-aad3-13a5e736a864","parent_table":"block","alive":true,"copied_from":"3abe17e8-9294-4a1c-99eb-a5e891491a91","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"0810fb79-1930-49ed-8ec0-1714e15f4efc":{"role":"reader","value":{"id":"0810fb79-1930-49ed-8ec0-1714e15f4efc","version":2,"type":"bulleted_list","properties":{"title":[["const object can only invoke const function"]]},"format":{"copied_from_pointer":{"id":"89a5fbcb-19a3-431d-8692-8b08bda1c5b0","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"739e2015-05ed-4a43-aad3-13a5e736a864","parent_table":"block","alive":true,"copied_from":"89a5fbcb-19a3-431d-8692-8b08bda1c5b0","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"bf04f6a0-c908-483d-909c-092657a12bbd":{"role":"reader","value":{"id":"bf04f6a0-c908-483d-909c-092657a12bbd","version":2,"type":"bulleted_list","properties":{"title":[["const function cannot change a member variable of the class"]]},"format":{"copied_from_pointer":{"id":"70cdae63-79d1-488e-a60a-e0b9381274f9","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"739e2015-05ed-4a43-aad3-13a5e736a864","parent_table":"block","alive":true,"copied_from":"70cdae63-79d1-488e-a60a-e0b9381274f9","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"b98606a2-bb33-4959-b8be-4a52e24380fa":{"role":"reader","value":{"id":"b98606a2-bb33-4959-b8be-4a52e24380fa","version":2,"type":"code","properties":{"title":[["class Test {\n    int value;\n \npublic:\n    // Constructor\n    Test(int v = 0)\n    {\n        value = v;\n    }\n \n    // We get compiler error if we\n    // add a line like \"value = 100;\"\n    // in this function.\n    int getValue() const\n    {\n        return value;\n    }\n     \n    // a nonconst function trying to modify value\n    void setValue(int val) {\n        value = val;\n    }\n};\n\nTest t(20);\nconst Test t_const(10);\n\n// non-const object invoking const function, no error\ncout \u003c\u003c t.getValue() \u003c\u003c endl;\n// const object invoking const function, no error\ncout \u003c\u003c t_const.getValue() \u003c\u003c endl;\n\n// const object invoking non-const function, CTE\n t_const.setValue(15);\n// non-const object invoking non-const function, no error\nt.setValue(12);"]],"language":[["C++"]]},"format":{"copied_from_pointer":{"id":"24f43cea-8e92-4fcb-b5a4-1bf8a9e7648a","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"739e2015-05ed-4a43-aad3-13a5e736a864","parent_table":"block","alive":true,"copied_from":"24f43cea-8e92-4fcb-b5a4-1bf8a9e7648a","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"84b46c4b-4268-43ce-a696-5bc15e5f6c06":{"role":"reader","value":{"id":"84b46c4b-4268-43ce-a696-5bc15e5f6c06","version":2,"type":"text","format":{"copied_from_pointer":{"id":"8cee1f90-f90a-4f63-9b2e-d086e2ee813f","table":"block","spaceId":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"created_time":1674811534594,"last_edited_time":1674811534599,"parent_id":"739e2015-05ed-4a43-aad3-13a5e736a864","parent_table":"block","alive":true,"copied_from":"8cee1f90-f90a-4f63-9b2e-d086e2ee813f","created_by_table":"notion_user","created_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","last_edited_by_table":"notion_user","last_edited_by_id":"8d91eb22-d5ae-4a85-ad77-d8911f5589a4","space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}}},"collection":{"57514c87-fdd3-44e3-81d2-4b83518ee9fa":{"role":"reader","value":{"id":"57514c87-fdd3-44e3-81d2-4b83518ee9fa","version":14,"name":[["Posts"]],"schema":{"NX\\Q":{"name":"date","type":"date"},"WxpT":{"name":"thumbnail","type":"file"},"`gQ~":{"name":"type","type":"select","options":[{"id":"5aff2f95-fd1e-489b-8840-bf10bc9519cb","color":"purple","value":"Post"},{"id":"374d2bc6-a144-4832-8ca4-474aaae0ea1f","color":"orange","value":"Paper"}]},"d]hq":{"name":"slug","type":"text"},"sD^m":{"name":"tags","type":"multi_select","options":[{"id":"57478946-4023-4c63-bb00-3df6b9a24994","color":"brown","value":"Open Source"},{"id":"75729654-d92f-4eb5-9e3c-2c283f63a4b1","color":"blue","value":"Daily"},{"id":"c0c435ce-d5ff-43ed-b1e4-710408dd6eed","color":"purple","value":"SEO"},{"id":"a7d0d4d2-18e9-4bf7-a6bf-2dacf5393e4b","color":"green","value":"Blog"},{"id":"6f46ca55-380f-4ea9-848b-ea2d3840989f","color":"gray","value":"Next.js"},{"id":"dac18998-86dd-4f18-8aa8-f83178854b3e","color":"red","value":"GraphQL"},{"id":"f4bef882-5fd4-4288-acb2-60cbaa69e265","color":"yellow","value":"Git"},{"id":"80cdf2bd-77ae-4fc4-8530-fc68e4863d76","color":"orange","value":"CSS"},{"id":"24c5a5bd-7f26-46d4-886e-fb5330985e2e","color":"pink","value":"Apollo"},{"id":"1b6bd16c-f115-438c-99c4-c4a327af9b23","color":"default","value":"Docs"},{"id":"dfa47c9a-d9af-459e-9c2d-9a40d7eb049c","color":"blue","value":"C++"},{"id":"f806ebb1-e3c5-4583-b2a6-1b2e54e838fa","color":"green","value":"Code"},{"id":"f7573f1b-6528-4198-9507-c648c34f0732","color":"pink","value":"Distributed System"},{"id":"377725a8-55be-4fd4-aa52-9ae5c427f2b5","color":"default","value":"Design"},{"id":"bc7fcd29-18ec-43ea-8dbb-723814d62383","color":"green","value":"Art"},{"id":"03f09615-175a-47eb-8362-326fe0162f01","color":"green","value":"School"},{"id":"491287b9-99b6-4c12-935a-80f12beacdf7","color":"red","value":"Storage System"}]},"wz|S":{"name":"summary","type":"text"},"zyLz":{"name":"updatedAt","type":"last_edited_time"},"~rC=":{"name":"author","type":"person","limit":1},"title":{"name":"title","type":"title"},"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":{"name":"status","type":"select","options":[{"id":"22460321-fea2-4c7c-b352-a674760780ac","color":"orange","value":"Private"},{"id":"7abc61d4-b405-480d-b699-12588755fa65","color":"red","value":"Public"},{"id":"c7390b31-9fab-4e21-94ee-7e67ea077a97","color":"blue","value":"PublicOnDetail"}]}},"icon":"⚙️","format":{"copied_from_pointer":{"id":"08b37e3a-7ab6-4aff-9a85-38b9f164c5a1","table":"collection","spaceId":"81443245-8ca3-4444-b4b0-d1c233a71a25"},"collection_page_properties":[{"visible":false,"property":"NX\\Q"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"~rC="},{"visible":false,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"sD^m"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"`gQ~"},{"visible":false,"property":"WxpT"},{"visible":true,"property":"zyLz"}]},"parent_id":"a9c51699-1e50-4bea-adcb-5057c5bddc7b","parent_table":"block","alive":true,"file_ids":["6cf3dc36-2f98-4f0e-9679-1bdbb1485129","5520bd92-e709-4c0d-ad58-06923f23f7e9","624d393a-62e3-4464-a1bf-1c79ecd4fbda","d52f6766-3e32-4c3d-8529-46e1f214360f"],"copied_from":"08b37e3a-7ab6-4aff-9a85-38b9f164c5a1","migrated":true,"space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}}},"space":{},"collection_view":{"07450bcb-93f3-4ef8-af09-a6b03629d439":{"role":"reader","value":{"id":"07450bcb-93f3-4ef8-af09-a6b03629d439","version":6,"type":"table","name":"Default view","format":{"table_wrap":false,"table_properties":[{"width":416,"visible":true,"property":"title"},{"width":186,"visible":true,"property":"d]hq"},{"width":124,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":100,"visible":true,"property":"`gQ~"},{"width":211,"visible":true,"property":"NX\\Q"},{"width":147,"visible":true,"property":"wz|S"},{"width":222,"visible":true,"property":"sD^m"},{"width":200,"visible":true,"property":"~rC="},{"width":200,"visible":true,"property":"WxpT"},{"width":200,"visible":true,"property":"zyLz"}]},"parent_id":"a9c51699-1e50-4bea-adcb-5057c5bddc7b","parent_table":"block","alive":true,"page_sort":["b1e1d645-db95-42e5-8995-39a80eda6460","e8cd3732-dc1c-43ae-959a-a5a611ec098a","e876558d-e878-47f6-8c95-21be678990a5","5a971ded-d3c5-41be-bef9-ddfff48d43a2","8db8b240-e1c5-4dd7-bf74-72584d7a2ce0","daf94ca4-ec56-47a3-84ed-b1e2479acc4b","d1a2db9b-6820-421e-9b80-017ce7478587","67ea9f83-b9f6-416b-afcb-7c64f7533e6c","45939470-9819-47e8-b12b-999cfefa0aad","c60dc33d-8efb-44be-a863-7a87ad047932","fe4b8d5f-7c49-42c6-a7d5-1cb71c4f7e86","b7233a67-c367-4198-831e-f12089568d1f","4f3bf306-92c4-41b7-a43e-957129a1240a","6a789607-66cf-498e-9b32-eb3fa69a84f4","c9429034-dabd-4a25-8782-97f20c808a60","38c49fe2-37f8-4a7f-a99f-9edb9ddad4c2","474eb638-9f6b-46bf-8004-77668293f199","81d6dfab-69cb-43a0-aa04-e9725f0b67e1","7703d956-84db-46cd-b538-48eae1af68b5","9f937c73-dac9-4ed7-9b01-beefcb321f16","3cf9dcb9-e7db-406c-80ab-c65c11fbf906","5827ab53-e051-455b-b90a-3bdc20158c2c","fa7acd3b-dea9-4fb1-b859-5345f35163c6","696dfc48-62c3-494d-96d0-ec5fa84637e8","79df93cf-9b10-452e-bc62-f39e8cd2d124","9bb8e52d-c459-4528-b1b3-c2378207253a","5da038ef-f419-4a11-aa48-587b3787e040","b4a2c9d4-6a2c-49e6-988d-89a538dfe0f6","c374a479-5cc7-4c54-ba69-6a4d76dc25ad","d470fa67-0e7c-40d8-86ac-9b5a8be88dc8","986be38b-9780-4bb9-bdcd-4e361ddbd888","b7613f56-c2d4-4aae-b967-b7471ade86d0","e357d1fc-7466-4d6a-8d48-71b76ea97cdc","e1735855-4089-4af6-bd4d-0d59f7a76cb4","9b34581a-955a-4229-99d0-8f2a6d0e69ce","b4414811-0599-45cf-b047-fa95eac42d89","c28a8a01-911a-40a2-a607-d3af8cb24017","461d07ae-4b4a-49de-bdcb-341af1153201","3df59023-cb68-4a65-afd1-7f0b8c21cb57","0e3223d1-03df-40fb-90f9-cc8559d776b5","4f45b7d6-cd5b-46ab-b2a6-37ae20bf5f21","fa475a21-5f38-43d4-9a89-67c40b3129ae","97cbc634-fe3a-4b9b-9da6-ac4aaa94772f","8a0d34bc-7e8c-4a68-88a5-5276274f612a","623f8788-a20f-45fd-bb82-08935f59b44d","7ee398f0-450b-47cb-9b53-f5e7736590d2","eae9f077-591e-4841-903b-db395513c834","367d0f2a-0b10-4dbb-b53a-613152f124f9","398e2e28-3997-49bc-a138-0467d4da8531","8aaf4633-e879-44dc-82c8-3c9fb9d3a6f8","1eb5e5f2-8dc9-4ffc-b5e1-09b67be27a83","83465fb9-205b-41fc-83a6-424692ee0a0e","fb1d18d0-6403-4e8a-840e-134553748ff5","4407cb77-3838-4ba5-b474-f15222cd3dba","1880b0f2-e036-42d0-9550-0fb08a962397","d8d60bd6-33f6-458f-a7d6-209ef2fb05a1","29bf65ff-888b-4a76-a8dd-bf54f02c3864","bad1d4ae-fd4a-4671-ae94-dd53d94e0eae","0d59792d-db1c-4ae7-8d7c-4f013be40dcf","337dc259-2805-4b1c-a60f-1b3e6c7badb8","4b1b21a8-c278-4bc6-88f1-1a35d407f4d7","7946aba2-d6d0-45ef-8779-23fa15db8f2d","c18dbce6-9e8c-4f4b-b74a-0994e7c1bc3f","84aa87b7-39e7-493c-87b9-5cae4de95449","1446eadb-8c01-4295-be3a-ecf19361c143","fe8a7d94-e9ba-457d-8f19-10fe53e6ca3c","98a5a0b6-b07b-4065-a73f-2949ad28ac47","f6a9f979-d19f-4b19-80b4-8b25bf8fa75d","3d3599eb-c3e3-4e4c-92b6-8cce6274fc02","37d3ec96-b340-484d-9538-635a6e7aa17d","306a0523-c59d-47c8-bf10-2dee83f339fb","9b5be59b-da72-4a4a-9ccf-cc4b82601184","68ffaa07-c97c-4d3a-a672-cc025dacdb1c","4bc3f405-5c60-474e-9dab-3b1837cfb927","7c9a700d-552d-474c-8fad-ce3f749e96c9","411264c9-9c90-4c2d-9918-b32b00da1ed5","b4467951-987d-48a9-a0f2-49bd8dea6f80","1f353b55-10d1-4948-a48a-1045477599ad","4d562b1e-3a10-4963-b26e-61c9509607fa","598890d1-899f-4700-afe3-f756078874a5","724413ed-8a55-465f-9817-29cb6308d0b6","909a6375-3e4d-488f-aa01-8ef717eecfa3","ce18cb57-eada-415b-a662-5c4dbffab48e","79ef1b90-1bde-4b99-ab7f-70906fa45d2d","95c980b3-02ce-42e1-8cbf-8026f57c9ce2","6ba0c050-11ca-4969-b48a-79433df542ff","4dd8c68b-88c4-48b6-919a-4fbc6a8b466a","e2ba87f5-bf7c-4565-9a3d-1082b90a4212","f94d7c22-3964-44f3-89e1-88a246d75864","9d60b800-3bf4-46de-90f0-9b188df24a02","b76139ef-a0a3-489d-a9e7-a176e431937a","f41686f6-a6bf-4292-aa4d-168d3e019b4b","1166bba8-a1cd-4fd6-8f6a-c0cbe10d5d35","a2ff0612-c4d1-41fc-8c2d-1554d891557e","90a59f89-1ba4-4b2c-bbef-d07c470bfc9c","fedc0e94-1316-4399-9f39-6f4de74f850b","9db0bb99-f6da-40d9-a966-52d3b3a30f9d","2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","56c0c047-a4ac-4a02-a2e1-dc7d5405b8de","bddc3ba9-e218-42f9-bac8-497ace880977","975051d4-ebbc-4b3f-98cf-1a52e5e4761d","e5d98bee-b2d5-4b45-ab0b-b77da24aebe7","acac2668-1062-4e7a-b095-eda067da8413","179025c4-d8a8-4c47-b621-9fd6a6f3339b","d256e5ed-5eac-43bb-a32e-581774962c23","2434e1f8-19d2-40b5-bae2-b6d75ead060c","9a4e4502-c2ff-4c7b-897a-02f9b68f15c6","9c40a253-b9e8-42cd-8a99-62aaa9789a5e","e2600427-334a-401b-b5a8-54c18a540729","dac360d9-fb47-443f-ab93-55a2c42ad135","29b559aa-056d-44a5-ab18-bb96b6836f55","e72b33b4-441c-48e7-8dac-75abf0401ec9","f57060f7-3ae6-46f6-9ad7-2f1ec35d8ad6","44b17d52-2e29-4148-ad09-93cf66a65f84","dd62c606-8a7d-4ab9-87b6-8cd25531a3cb","5001fe4a-256c-46d1-86ef-74fd85735b96","603f9641-669d-4eb5-ac18-165aa5bdfa12","e5e3f04f-16fc-4cc2-a84b-c6658b11a0a4","0107fc94-a69a-4008-ad6f-b6d3a745109d","fa14a437-e681-4d6a-b1cf-179d64bd13aa","d812d1db-f99e-4290-b5dd-e46060c68982","f7f9f4a6-5a18-4762-a045-438bc160184f","eaa3ba59-09e2-45eb-90c3-4ad0eb2c320a","d35e5c3a-fbeb-4462-b808-503a4b3ad29b","4f9e8264-87f9-4a58-9bdb-504052f4784e","73219e21-da53-4127-8f35-6d9310a1bada","07b74537-2ab7-429c-a132-80c57c60f8e8","581263ed-5a68-440a-bb31-df7d5fc80708","79fc8bfb-f588-4c81-8668-39ff75d75083","91bc421a-2869-464e-a0eb-02fad84829c4","fd7228ee-f538-46d9-b2c9-8210d51798c6","d29cb589-1334-46d2-8cec-067b4bf27ce4","70f7eb66-be65-4b76-ae4e-bbc0c61579ca","63f574c2-0d91-46af-8ba0-a1bfb5685a69","9a2bc4bd-08e3-4ef4-8c2d-c01e71a455a1","51e53e64-e6dd-4fd6-8062-5d4455f0a1cb","f4ec684b-e5f1-44e9-a8a7-aca27f7ca6f3","177fa228-9099-4dd5-8969-c67f9c78bd0c","d5ab0d7a-0123-473f-84d4-81740defb9b4","548f6d36-c509-4b79-9c4b-59f227c7f550","c0901673-4f5e-4e51-ad87-0217f2d33a0c","0787f8d6-dc99-47c6-946e-2b008814bebc","0ade5216-1103-486a-aff0-a709ff825b02","a2c4dd21-985c-497d-b421-c2d8a9ec0eeb","908a498c-f7e3-4668-8afd-f179a027b4d9","4945e5c3-033d-467c-a8b3-b1479c1fdf0a","854f4584-28d5-43bd-938e-88d0957c78e3","6a6574f8-d63d-4fed-99c5-38f3df0364ac"],"query2":{"sort":[{"property":"NX\\Q","direction":"descending"}],"aggregations":[{"property":"title","aggregator":"count"}]},"space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}},"2bdcebad-9bb0-4b80-9a68-88d71dc88dc1":{"role":"reader","value":{"id":"2bdcebad-9bb0-4b80-9a68-88d71dc88dc1","version":41,"type":"table","parent_id":"a9c51699-1e50-4bea-adcb-5057c5bddc7b","parent_table":"block","alive":true,"page_sort":["95c980b3-02ce-42e1-8cbf-8026f57c9ce2","6ba0c050-11ca-4969-b48a-79433df542ff","4dd8c68b-88c4-48b6-919a-4fbc6a8b466a","e2ba87f5-bf7c-4565-9a3d-1082b90a4212","d0e5e87c-430f-4829-bc8e-03886c4178a8","0ebd6c33-f48b-4ac3-ad75-7fbad9bc9a77","6d8147f6-ed76-456a-8323-f3baa81cd488","2cd2bd7c-73ef-4394-87dd-0fc9f085dba2","f94d7c22-3964-44f3-89e1-88a246d75864","9d60b800-3bf4-46de-90f0-9b188df24a02","f41686f6-a6bf-4292-aa4d-168d3e019b4b","b76139ef-a0a3-489d-a9e7-a176e431937a","90a59f89-1ba4-4b2c-bbef-d07c470bfc9c","fedc0e94-1316-4399-9f39-6f4de74f850b","9db0bb99-f6da-40d9-a966-52d3b3a30f9d","42a50dcf-af92-4b77-8ade-226e91a940eb","703164e2-e3e7-4bbe-a49d-4ce8553737b4","e6c10e15-1991-42f7-967c-e36d9fd42a12","9c8cb5e6-9a2e-42ff-b459-f96c21ba1f1e","c11ded5b-09a3-4f63-a5bc-30a34fd799e6","f7cfbe97-b6e0-4dd3-b206-95dafaa395db","0c405f31-f0db-4558-97e1-bd53dded9f12","70da6269-ce96-4cbf-a023-553ff7d193eb","1ad37934-8a19-4540-b21e-3910b835e8cc","78706164-6f94-484e-b3a3-355f94680e78"],"space_id":"a9502724-d7a1-44ec-8237-1b7455afe793"}}},"notion_user":{},"collection_query":{},"signed_urls":{}}},"__N_SSG":true},"page":"/[slug]","query":{"slug":"effective-cpp"},"buildId":"m7jY47fJHXpPAk81FE8NR","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>